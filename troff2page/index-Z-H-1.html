<!DOCTYPE html>
<html>
<!--
Generated from index.ms by Troff2page, v. 20210210
Copyright (C) 2003-2021 Dorai Sitaram
(running on Lua 5.3)
http://ds26gte.github.io/troff2page
-->
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>
Troff2page
</title>
<link rel="stylesheet" href="index-Z-S.css" title=default>
<meta name=robots content="index,follow">
</head>
<body>
<div>
<div align=right class=navigation>[Go to <span><a class=hrefinternal href="index.html"><span class=hreftext>first</span></a>, <a class=hrefinternal href="index.html"><span class=hreftext>previous</span></a></span><span>, <a class=hrefinternal href="index-Z-H-2.html"><span class=hreftext>next</span></a></span> page<span>; &#xa0;&#xa0;</span><span><a class=hrefinternal href="index.html#TAG:__troff2page_toc"><span class=hreftext>contents</span></a></span><span><span>; &#xa0;&#xa0;</span><a class=hrefinternal href="index-Z-H-11.html#TAG:__troff2page_index"><span class=hreftext>index</span></a></span>]</div>
<h1 style="font-size: 192%"><a name="TAG:__pca_sec_1"></a>
1.  Introduction</h1>
<p><a name="TAG:__troff2page_index_1"></a>
<a name="TAG:__troff2page_index_2"></a>
<a name="TAG:__troff2page_index_3"></a>
<a name="TAG:__troff2page_index_4"></a>
<a name="TAG:__troff2page_index_5"></a>
<span style="font-family: monospace; ">troff2page</span> is a <a href="https://www.lua.org"><span class=hreftext>Lua</span></a> script that
makes Web pages from troff manuscripts.  It reads an input
document that is marked up in troff (-man or -ms) and produces an
output document with the functionally equivalent HTML markup.
</p>
<p class=indent><a name="TAG:__troff2page_index_6"></a>
<a name="TAG:__troff2page_index_7"></a>
troff is a venerable typesetting program that produces
high-quality print output from plain text source.
It doesn&#x2019;t require
special-purpose software to create content; any text
editor will do.  troff macros and standard Unix external tools can
be used to arbitrarily enhance troff&#x2019;s print output.
troff is very compact (unlike its great rival TeX) and is
practically ubiquitous, being available by default on
all Unixish machines.  These are significant benefits: so even
though
troff is a toolchain of some vintage, there continues to be a
devoted band of troffglodytes preserving the tradition.
Troff2page lets you put your troff documents on the Web without
your having to learn a new system or to maintain separate documents.
Troff2page can be instructed to also produce an Info version of your
document that&#x2019;s suitable for browing on a text terminal (chapter
<a class=hrefinternal href="index-Z-H-10.html#TAG:gnuinfo"><span class=hreftext>10</span></a>).
</p>
<p class=indent><a name="TAG:__troff2page_index_8"></a>
First,
ensure that the script <span style="font-family: monospace; ">troff2page</span> is in a directory in your
<span style="font-family: monospace; ">PATH</span>.
</p>
<p class=indent><a name="TAG:html-output"></a>
<a name="TAG:__troff2page_index_9"></a>
To convert an input troff document named <span style="font-family: monospace; ">jobname.ms</span>, type
the following on the operating-system command line.
</p>
<p><div class="display verbatim" align=left>
<span style="font-family: monospace; ">&#xa0;&#xa0;&#xa0;&#xa0;troff2page&#xa0;jobname.ms<br>
</span>
</div>
</p>
<p>at your operating-system prompt.  This creates an output HTML file
<span style="font-family: monospace; ">jobname.html</span> in the current directory.  (This HTML file has the same basename as the
input troff file (i.e., <span style="font-family: monospace; ">jobname</span>), but its extension is
<span style="font-family: monospace; ">.html</span>.)
</p>
<p class=indent><a name="TAG:__troff2page_index_10"></a>
If the input troff uses the page-break request
<span style="font-family: monospace; ">.bp</span>,
then the output
HTML consists of a series of interlinked files: The first file is named
<span style="font-family: monospace; ">jobname.html</span>;
the rest are
<span style="font-family: monospace; ">jobname-Z-H-1.html</span>,
<span style="font-family: monospace; ">jobname-Z-H-2.html</span>,
etc.
</p>
<p class=indent></p>
<p></p>
<h2 style="font-size: 156%"><a name="TAG:__pca_sec_2"></a>
Commmand-line options</h2>
<p><a name="TAG:__troff2page_index_11"></a>
<a name="TAG:__troff2page_index_12"></a>
<a name="TAG:__troff2page_index_13"></a>
<a name="TAG:__troff2page_index_14"></a>
<a name="TAG:__troff2page_index_15"></a>
<a name="TAG:__troff2page_index_16"></a>
<a name="TAG:__troff2page_index_17"></a>
<a name="TAG:__troff2page_index_18"></a>
<a name="TAG:__troff2page_index_19"></a>
<a name="TAG:__troff2page_index_20"></a>
<span style="font-family: monospace; ">troff2page</span> takes some, but not all, of the same options as <span style="font-family: monospace; ">groff</span>,
a widely used and actively developed implementation of troff.
viz.,
<div align=center>
<table cellpadding=2>
<tr><td valign=top colspan=2><hr></td></tr>
<tr>
<td valign=top align=left style="width: 140.0px; "><span style="font-family: monospace; ">-v</span> or <span style="font-family: monospace; ">--version</span> </td>
<td valign=top align=left style="width: 300.0px; "> display version</td>
</tr>
<tr><td valign=top colspan=2><hr></td></tr>
<tr>
<td valign=top align=left style="width: 140.0px; "><span style="font-family: monospace; ">-h</span> or <span style="font-family: monospace; ">--help</span> </td>
<td valign=top align=left style="width: 300.0px; "> display help</td>
</tr>
<tr><td valign=top colspan=2><hr></td></tr>
<tr>
<td valign=top align=left style="width: 140.0px; "><span style="font-family: monospace; ">-m</span> </td>
<td valign=top align=left style="width: 300.0px; "> load macro files from <span style="font-family: monospace; ">GROFF_TMAC_PATH</span></td>
</tr>
<tr><td valign=top colspan=2><hr></td></tr>
<tr>
<td valign=top align=left style="width: 140.0px; "><span style="font-family: monospace; ">-r</span> </td>
<td valign=top align=left style="width: 300.0px; "> pre-set number registers</td>
</tr>
<tr><td valign=top colspan=2><hr></td></tr>
<tr>
<td valign=top align=left style="width: 140.0px; "><span style="font-family: monospace; ">-d</span> </td>
<td valign=top align=left style="width: 300.0px; "> pre-define strings</td>
</tr>
<tr><td valign=top colspan=2><hr></td></tr>
<tr>
<td valign=top align=left style="width: 140.0px; "><span style="font-family: monospace; ">-c</span> </td>
<td valign=top align=left style="width: 300.0px; "> turn off color</td>
</tr>
<tr><td valign=top colspan=2><hr></td></tr>
<tr>
<td valign=top align=left style="width: 140.0px; "><span style="font-family: monospace; ">--</span> </td>
<td valign=top align=left style="width: 300.0px; "> signal end of options</td>
</tr>
<tr><td valign=top colspan=2><hr></td></tr>
</table>
</div></p>
<p><div class="display verbatim" align=left>
<span style="font-family: monospace; ">&#xa0;&#xa0;&#xa0;&#xa0;%&#xa0;troff2page&#xa0;--help<br>
</span><span style="font-family: monospace; font-style: oblique; ">&#xa0;&#xa0;&#xa0;&#xa0;Troff2page&#xa0;version&#xa0;20201226<br>
&#xa0;&#xa0;&#xa0;&#xa0;Copyright&#xa0;(C)&#xa0;...<br>
&#xa0;&#xa0;&#xa0;&#xa0;Usage:&#xa0;troff2page&#xa0;OPTION&#xa0;...&#xa0;FILE<br>
&#xa0;&#xa0;&#xa0;&#xa0;Available&#xa0;options:&#xa0;...<br>
&#xa0;&#xa0;&#xa0;&#xa0;...<br>
&#xa0;&#xa0;&#xa0;&#xa0;For&#xa0;full&#xa0;details,&#xa0;please&#xa0;see&#xa0;http://ds26gte.github.io/troff2page<br>
</span>
</div>
</p>
<p>In the unlikely event that you have a document file named
<span style="font-family: monospace; ">--help</span> (and wish to process it), use
</p>
<p><div class="display verbatim" align=left>
<span style="font-family: monospace; ">&#xa0;&#xa0;&#xa0;&#xa0;%&#xa0;troff2page&#xa0;--&#xa0;--help<br>
</span>
</div>
</p>
<p><a name="TAG:__troff2page_index_21"></a>
<a name="TAG:__troff2page_index_22"></a>
<a name="TAG:__troff2page_index_23"></a>
<span style="font-family: monospace; ">troff2page</span> ignores all other <span style="font-family: monospace; ">groff</span> options, most with a warning.
The options
<span style="font-family: monospace; ">-z</span>, <span style="font-family: monospace; ">-t</span>, and <span style="font-family: monospace; ">-U</span> are silently ignored, as they&#x2019;re always valid
for Troff2page.
</p>
<p class=indent>Macro file options must be given without the suffix <span style="font-family: monospace; ">.tmac</span> or prefix
<span style="font-family: monospace; ">tmac.</span>.  Thus, <span style="font-family: monospace; ">-mxyz</span> or <span style="font-family: monospace; ">-m xyz</span> looks for the macro file
<span style="font-family: monospace; ">xyz.tmac</span> or <span style="font-family: monospace; ">tmac.xyz</span>, whichever is found first in the macro directories,
and loads it.
</p>
<p class=indent>If you find you need to specify an option that <span style="font-family: monospace; ">troff2page</span>
doesn&#x2019;t accept, you can always supply it in a macro file via
<span style="font-family: monospace; ">-m</span>.
</p>
<p class=indent>The options can be varied with each call to <span style="font-family: monospace; ">troff2page</span>, just as
with <span style="font-family: monospace; ">groff</span>.  Please see the groff man page
for details on all the provided options.
</p>
<p class=indent></p>
<p></p>
<h2 style="font-size: 156%"><a name="TAG:__pca_sec_3"></a>
Filename arguments</h2>
<p>The arguments remaining after all the option processing are
considered to be the names of document files.
</p>
<p class=indent>If there is <span style="font-style: italic; ">one</span> file argument, say <span style="font-family: monospace; ">filename.ext</span>,
<span style="font-family: monospace; ">troff2page</span> converts it to <span style="font-family: monospace; ">filename.html</span> (and possibly
some auxiliary HTML files whose names are of form
<span style="font-family: monospace; ">filename-Z-H-number.html</span>). This is unlike groff, which
writes to console (&#x201C;standard output&#x201D;).
</p>
<p class=indent>If there is <span style="font-style: italic; ">more than one</span> file argument, say <span style="font-family: monospace; ">f1.e1, f2.e2, ...
flast.elast</span>, <span style="font-family: monospace; ">troff2page</span> concatenates their content to create a
corresponding HTML version in <span style="font-family: monospace; ">flast.html</span> (and possibly some
aux HTML files <span style="font-family: monospace; ">flast-Z-H-number.html</span>). Again, this is
unlike groff.
</p>
<p class=indent>If any of the argument files don&#x2019;t exist, <span style="font-family: monospace; ">troff2page</span>, like groff, issues a
&#x201C;cannot open ... No such file or directory&#x201D; diagnostic, but does
its best with the files that do exist.
</p>
<p class=indent>If after all the option processing, <span style="font-style: italic; ">no</span> file arguments remain, and
the options for help or version were not used,
<span style="font-family: monospace; ">troff2page</span> reads from the console (&#x201C;standard input&#x201D;), like
groff.  The output HTML file(s) in this case use the basename
<span style="font-family: monospace; ">troffput</span>.<a name="TAG:__troff2page_call_footnote_1"></a><a class=hrefinternal href="#TAG:__troff2page_footnote_1"><span class=hreftext><sup><small>1</small></sup></span></a>
This part is unlike groff, which always writes
to console.
</p>
<p class=indent></p>
<p></p>
<h2 style="font-size: 156%"><a name="TAG:__pca_sec_4"></a>
Autoloaded init files</h2>
<p><a name="TAG:troff2pagerc"></a>
<a name="TAG:__troff2page_index_24"></a>
<a name="TAG:__troff2page_index_25"></a>
<span style="font-family: monospace; ">troff2page</span> can read directives in some autoloaded files
without the need to explicitly use a command-line option.  These
are useful to specify information that is relevant only for the HTML
output, and they&#x2019;re loaded before the input document is
processed.
</p>
<p class=indent>i.  The first such file is named
<span style="font-family: monospace; ">.troff2pagerc</span>: Troff2page looks for it in your macro
directories: <span style="font-family: monospace; ">GROFF_TMAC_PATH</span>, working directory, home &#x2014; in
that order.<a name="TAG:__troff2page_call_footnote_2"></a><a class=hrefinternal href="#TAG:__troff2page_footnote_2"><span class=hreftext><sup><small>2</small></sup></span></a>
The working directory is a good location if your
changes are meant only for those
documents that are in that directory.
If your changes will be used in all your documents, place it in
your home or a private (not a system!) <span style="font-family: monospace; ">GROFF_TMAC_PATH</span> directory.
</p>
<p class=indent>That your home directory is the last place Troff2page looks in
for <span style="font-family: monospace; ">.troff2pagerc</span> has a nice benefit: Use
<span style="font-family: monospace; ">~/.troff2pagerc</span> for standard boilerplate customization that
you want unthinkingly autoloaded for <span style="font-style: italic; ">most</span> of your
documents, but easily disable it for the documents that need
special TLC by simply placing an empty or different
<span style="font-family: monospace; ">.troff2pagerc</span> in the working directory.
</p>
<p class=indent>A
more system-level <span style="font-family: monospace; ">GROFF_TMAC_PATH</span> placement is typically
unadvised for such an ad hoc file.
</p>
<p class=indent><span style="font-family: monospace; ">troff2page</span> loads only the first <span style="font-family: monospace; ">.troff2pagerc</span> it
finds.
</p>
<p class=indent><a name="TAG:__troff2page_index_26"></a>
ii.  Next, <span style="font-family: monospace; ">troff2page</span> will also pick up a file
<span style="font-family: monospace; ">jobname.t2p</span>, where <span style="font-family: monospace; ">jobname</span> is the basename of the input document.
This is useful for directives that are specific to this document.
<span style="font-family: monospace; ">jobname.t2p</span>, unlike <span style="font-family: monospace; ">.troff2pagerc</span>, is looked for only in the
working directory, and not more generally in
<span style="font-family: monospace; ">GROFF_TMAC_PATH</span>.
</p>
<p class=indent>(Note that groff itself will <span style="font-style: italic; ">not</span> load either <span style="font-family: monospace; ">.troff2pagerc</span> or
<span style="font-family: monospace; ">jobname.t2p</span> automatically.  But that is presumably OK, since
these two files typically contain information that&#x2019;s relevant
for HTML only.)
</p>
<p class=indent><a name="TAG:__troff2page_index_27"></a>
iii.  Finally, If the input file is recognizably a man page (i.e., it has the
command <span style="font-family: monospace; ">.TH</span>), both Troff2page and groff will load, if it
exists, the init file <span style="font-family: monospace; ">man.local</span>.  This init file, like
<span style="font-family: monospace; ">.troff2pagerc</span>, is searched for in the
<span style="font-family: monospace; ">GROFF_TMAC_PATH</span>, working directory, and home, in that
order.
</p>
<p class=indent>None of the autoloaded file disables the loading of
the others.  However, because of the order in which they&#x2019;re
loaded, settings in <span style="font-family: monospace; ">man.local</span> can override or shadow
<span style="font-family: monospace; ">jobname.t2p</span>, which in its turn shadows <span style="font-family: monospace; ">.troff2pagerc</span>.
</p>
<p class=indent></p>
<p></p>
<h2 style="font-size: 156%"><a name="TAG:__pca_sec_5"></a>
Calling Troff2page from within Lua</h2>
<p><a name="TAG:calling_troff2page_within_lua"></a>
<a name="TAG:__troff2page_index_28"></a>
The script <span style="font-family: monospace; ">troff2page</span> runs on the command-line on Unix-esque
machines that have Lua installed.
For more installation information,
please see the file <a href="https://github.com/ds26gte/troff2page/blob/master/INSTALL.adoc"><span class=hreftext>INSTALL.adoc</span></a>
in the distribution.
</p>
<p class=indent>However, it is not necessary to run the file <span style="font-family: monospace; ">troff2page</span> as a
Unix script.  You can load <span style="font-family: monospace; ">troff2page.lua</span> (<span style="font-family: monospace; ">troff2page</span> is a soft link
to the Lua file <span style="font-family: monospace; ">troff2page.lua</span>) into Lua, and then call the
Lua procedure <span style="font-family: monospace; ">troff2page</span> on your source document.  E.g.,
</p>
<p><div class="display verbatim" align=left>
<span style="font-family: monospace; ">&#xa0;&#xa0;&#xa0;&#xa0;dofile&#xa0;'troff2page.lua'<br>
&#xa0;&#xa0;&#xa0;&#xa0;troff2page&#xa0;'my-troff-document.ms'<br>
</span>
</div>
</p>
<p>The procedure <span style="font-family: monospace; ">troff2page</span> can be called
several times, on the same or different documents, from within
the same Lua session.  It takes the same options as the script,
supplied as multiple string arguments.
</p>
<p class=indent></p>
<p></p>
<div class=footnote><hr align=left width="40%"><p><a name="TAG:__troff2page_footnote_1"></a><a class=hrefinternal href="#TAG:__troff2page_call_footnote_1"><span class=hreftext><sup><small>1</small></sup></span></a>
The name <span style="font-family: monospace; ">troffput</span> is inspired by <span style="font-family: monospace; ">texput</span>,
the name that TeX uses when it isn&#x2019;t given an input file.
</p>
<p><a name="TAG:__troff2page_footnote_2"></a><a class=hrefinternal href="#TAG:__troff2page_call_footnote_2"><span class=hreftext><sup><small>2</small></sup></span></a>
You can of course collapse the order somewhat by putting the working
directory (<span style="font-family: monospace; ">.</span>) and home in <span style="font-family: monospace; ">GROFF_TMAC_PATH</span>, but then
the order of the directories in <span style="font-family: monospace; ">GROFF_TMAC_PATH</span> decides the
issue.
</p>
</div>
<div align=right class=navigation>[Go to <span><a class=hrefinternal href="index.html"><span class=hreftext>first</span></a>, <a class=hrefinternal href="index.html"><span class=hreftext>previous</span></a></span><span>, <a class=hrefinternal href="index-Z-H-2.html"><span class=hreftext>next</span></a></span> page<span>; &#xa0;&#xa0;</span><span><a class=hrefinternal href="index.html#TAG:__troff2page_toc"><span class=hreftext>contents</span></a></span><span><span>; &#xa0;&#xa0;</span><a class=hrefinternal href="index-Z-H-11.html#TAG:__troff2page_index"><span class=hreftext>index</span></a></span>]</div>
</div>
</body>
</html>
