<!doctype html>
<html lang="en">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
  <script type="module" src="../embed-api.js"></script>
  <script src="../codemirror.js"></script>
  <script src="../runmode.js"></script>
  <script src="../pyret.js"></script>
  <script src="../hilite.js"></script>
  <link rel="stylesheet" type="text/css" href="../codemirror.css" title="default"/>
  <link rel="stylesheet" type="text/css" href="../pyret.css" title="default"/>
  <link rel="stylesheet" type="text/css" href="../styles.css" title="default"/>
  <head>
    <title>Numbers</title>
  </head>
  <body>
    <div class="container">
    <root><div><h1 id="numbers" toclevel="1" tocentry="yes">Numbers</h1><p><span></span> Pyret numbers are of two kinds: exact numbers, or <span class="pyret-highlight"><tt class="pyretexpr">Exactnum</tt></span>s, and rough numbers or <span class="pyret-highlight"><tt class="pyretexpr">Roughnum</tt></span>s. Both are real; finite; and written in base ten.</p><div class="margin-note">Note that imaginary numbers were implemented in earlier versions of Pyret, but are not currently supported.</div><p><span class="pyret-highlight"><tt class="pyretexpr">Exactnum</tt></span>s are arbitrarily precise rational numbers, including integers and rational fractions.  For integers whose magnitude is less than <span class="pyret-highlight"><tt class="pyretexpr">(num-expt(2, 53) - 1)</tt></span>, Pyret internally uses JavaScript <span class="pyret-highlight"><tt class="pyretexpr">fixnum</tt></span>s, in order to optimize basic arithmetic.</p><p><span class="pyret-highlight"><tt class="pyretexpr">Roughnum</tt></span>s are numbers that are necessarily or deliberately imprecise. These correspond to the same set of values covered by JavaScript <span class="pyret-highlight"><tt class="pyretexpr">fixnum</tt></span>s (a.k.a. doubles), and thus cover a large but limited range (magnitude less than <span class="pyret-highlight"><tt class="pyretexpr">1.7976931348623157e308</tt></span>).</p><p>Operations on <span class="pyret-highlight"><tt class="pyretexpr">Exactnum</tt></span>s typically return <span class="pyret-highlight"><tt class="pyretexpr">Exactnum</tt></span>s. However, if the operation can yield irrationals, and it is not possible to determine that a particular result is definitely rational, that result is returned as a <span class="pyret-highlight"><tt class="pyretexpr">Roughnum</tt></span>. Thus, trigonometric functions on <span class="pyret-highlight"><tt class="pyretexpr">Exactnum</tt></span>s typically yield <span class="pyret-highlight"><tt class="pyretexpr">Roughnum</tt></span> answers, except for well-known edge cases such as the sine or cosine of zero. Fractional powers of rationals are usually <span class="pyret-highlight"><tt class="pyretexpr">Roughnum</tt></span>, except for small roots where it can be ascertained that an exact root is possible.</p><p>Operations that are non-casting and with at least one argument that is <span class="pyret-highlight"><tt class="pyretexpr">Roughnum</tt></span> automatically coerce the result to be a <span class="pyret-highlight"><tt class="pyretexpr">Roughnum</tt></span>. This is known as <span class="pyret-highlight"><tt class="pyretexpr">Roughnum</tt></span> contagion.</p><p><span class="pyret-highlight"><tt class="pyretexpr">Exactnum</tt></span>s allow the usual comparison predicates. <span class="pyret-highlight"><tt class="pyretexpr">Roughnum</tt></span>s do too, with the significant exception that trying to compare <span class="pyret-highlight"><tt class="pyretexpr">Roughnum</tt></span>s for equality throws an error.  To write an equality function that handles <span class="pyret-highlight"><tt class="pyretexpr">Roughnum</tt></span>s, use <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#within"><span class="pyret-highlight"><tt class="pyretexpr">within</tt></span></a>, as documented in <a href="/Users/ds26gte/src/pyret-docs-pb/lang/equality.html#s:bounded-equalities"></a>.</p><p>An operation whose numerical result is not determinate or finite throws an error, with the message signaling either an overflow or some more specific problem.</p><h2 id="Number-Annotations" toclevel="2" tocentry="yes">Number Annotations</h2><p>Several specific type annotations are provided for numbers to allow more precise value requirements to be specified.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">fun round-distance(d :: NumNonNegative) -&gt; Exactnum:
  num-round(d)
end</pre></div><div><p><span><a name="Number"></a></span></p><pre class="pyret-display">Number</pre><p>The type of number values.</p></div><div><p><span><a name="Exactnum"></a></span></p><pre class="pyret-display">Exactnum</pre><p>The type of exact number values.</p></div><div><p><span><a name="Roughnum"></a></span></p><pre class="pyret-display">Roughnum</pre><p>The type of necessarily or deliberately imprecise values.</p></div><div><p><span><a name="NumInteger"></a></span></p><pre class="pyret-display">NumInteger</pre><p>The type of <span class="pyret-highlight"><tt class="pyretexpr">Exactnum</tt></span> integer values.</p></div><div><p><span><a name="NumRational"></a></span></p><pre class="pyret-display">NumRational</pre><p>The type of exact rational number values. Same as <span class="pyret-highlight"><tt class="pyretexpr">Exactnum</tt></span>.</p></div><div><p><span><a name="NumPositive"></a></span></p><pre class="pyret-display">NumPositive</pre><p>The type of number values that are greater than zero.</p></div><div><p><span><a name="NumNegative"></a></span></p><pre class="pyret-display">NumNegative</pre><p>The type of number values that are less than zero.</p></div><div><p><span><a name="NumNonPositive"></a></span></p><pre class="pyret-display">NumNonPositive</pre><p>The type of number values that are less than or equal to zero.</p></div><div><p><span><a name="NumNonNegative"></a></span></p><pre class="pyret-display">NumNonNegative</pre><p>The type of number values that are equal to or greater than zero.</p></div><h2 id="Number-Literals" toclevel="2" tocentry="yes">Number Literals</h2><p><span class="pyret-highlight"><tt class="pyretexpr">Exactnum</tt></span>s can be integers,  fractions represented with a solidus, or decimals, with an optional exponent. In the following, the numerals on the same line all denote the same Pyret number.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">42 +42
-42
22/7
-22/7
2.718281828 +2.718281828
-2.718281828
1/2 0.5
6.022e23 +6.022e23 6.022e+23 +6.022e+23
-6.022e23 -6.022e+23
-6.022e-23</pre></div><p><span class="pyret-highlight"><tt class="pyretexpr">Exactnum</tt></span>s are of arbitrary precision.</p><p><span class="pyret-highlight"><tt class="pyretexpr">Roughnum</tt></span>s are represented with a leading tilde.  You can think of the tilde as representing a person waving his or her hands vaguely.</p><p>They are integers, fractions or decimals, with an optional exponent.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">~42 ~+42
~-42
~2.718281828 ~+2.718281828
~-2.718281828
~6.022e23 ~+6.022e23 ~6.022e+23 ~+6.022e+23
~-6.022e23 ~-6.022e+23
~-6.022e-23</pre></div><p><span class="pyret-highlight"><tt class="pyretexpr">Roughnum</tt></span>s cannot be made arbitrarily precise. The absolute value ranges between 0 and 1.7976931348623157e+308 (JavaScript’s Number.MAX_VALUE) with a granularity of 5e-324 (JavaScript’s Number.MIN_VALUE).</p><h2 id="Number-Constants" toclevel="2" tocentry="yes">Number Constants</h2><div><p><span><a name="PI"></a></span></p><pre class="pyret-display">PI :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#Roughnum">Roughnum</a></pre></div><p>The mathematical constant π, approximated as a <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#Roughnum"><span class="pyret-highlight"><tt class="pyretexpr">Roughnum</tt></span></a>, or <span class="pyret-highlight"><tt class="pyretexpr">~3.141592653589793</tt></span>.</p><h2 id="Number-Operators" toclevel="2" tocentry="yes">Number Operators</h2><div><p><span><a name="+-(addition-operator)"></a></span></p><pre class="pyret-display">left + right</pre><p>  </p><div class="margin-note">If either of the values in an arithmetic operator is a <span class="pyret-highlight"><tt class="pyretexpr">Roughnum</tt></span>, the result is a <span class="pyret-highlight"><tt class="pyretexpr">Roughnum</tt></span></div><p>  When <span class="pyret-highlight"><tt class="pyretexpr">left</tt></span> and <span class="pyret-highlight"><tt class="pyretexpr">right</tt></span> evaluate to numbers, adds them and returns   the result.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  2 + 2 is 4
  4/3 + 1/3 is 5/3
  0.1 + 0.2 is 0.3
end</pre><p><a class="show-embed" code="check: 
    2 + 2 is 4 
    4/3 + 1/3 is 5/3 
    0.1 + 0.2 is 0.3 
 end">(Try it!)</a></p></div></div><div><p><span><a name="--(subtraction-operator)"></a></span></p><pre class="pyret-display">left - right</pre><p>  When <span class="pyret-highlight"><tt class="pyretexpr">left</tt></span> and <span class="pyret-highlight"><tt class="pyretexpr">right</tt></span> evaluate to numbers, subtracts   <span class="pyret-highlight"><tt class="pyretexpr">right</tt></span> from <span class="pyret-highlight"><tt class="pyretexpr">left</tt></span> and returns the result.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  6 - 2 is 4
  4/3 - 1/3 is 1
  0.3 - 0.2 is 0.1
end</pre><p><a class="show-embed" code="check: 
    6 - 2 is 4 
    4/3 - 1/3 is 1 
    0.3 - 0.2 is 0.1 
 end">(Try it!)</a></p></div></div><div><p><span><a name="*-(multiplication-operator)"></a></span></p><pre class="pyret-display">left * right</pre><p>  When <span class="pyret-highlight"><tt class="pyretexpr">left</tt></span> and <span class="pyret-highlight"><tt class="pyretexpr">right</tt></span> evaluate to numbers, multiplies   them and returns the result.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  2 * 2 is 4
  2 * 1/3 is 2/3
  0.3 * 0.2 is 0.06
end</pre><p><a class="show-embed" code="check: 
    2 * 2 is 4 
    2 * 1/3 is 2/3 
    0.3 * 0.2 is 0.06 
 end">(Try it!)</a></p></div></div><div><p><span><a name="/-(division-operator)"></a></span></p><pre class="pyret-display">left / right</pre><p>  </p><div class="margin-note">To be used as an operator, <span class="pyret-highlight"><tt class="pyretexpr">/</tt></span> has to have spaces around it. This means you need to write <span class="pyret-highlight"><tt class="pyretexpr">a / 3</tt></span> rather than <span class="pyret-highlight"><tt class="pyretexpr">a/3</tt></span> to divide the value stored in <span class="pyret-highlight"><tt class="pyretexpr">a</tt></span> by <span class="pyret-highlight"><tt class="pyretexpr">3</tt></span>. Things like <span class="pyret-highlight"><tt class="pyretexpr">4/3</tt></span> and <span class="pyret-highlight"><tt class="pyretexpr">1/2</tt></span> are read by Pyret as single numbers, and can’t have names or other expressions in them.</div><p>  When <span class="pyret-highlight"><tt class="pyretexpr">left</tt></span> and <span class="pyret-highlight"><tt class="pyretexpr">right</tt></span> evaluate to numbers, divides <span class="pyret-highlight"><tt class="pyretexpr">left</tt></span>   by <span class="pyret-highlight"><tt class="pyretexpr">right</tt></span> and returns the result.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  8 / 2 is 4
  8/3 / 2 is 4/3
  0.3 / 10 is 0.03
end</pre><p><a class="show-embed" code="check: 
    8 / 2 is 4 
    8/3 / 2 is 4/3 
    0.3 / 10 is 0.03 
 end">(Try it!)</a></p></div></div><div><p><span><a name="&lt;-(less)"></a></span></p><pre class="pyret-display">left &lt; right</pre></div><div><p><span><a name="&gt;-(greater)"></a></span></p><pre class="pyret-display">left &lt; right</pre></div><div><p><span><a name="&lt;=-(less-or-equal)"></a></span></p><pre class="pyret-display">left &lt; right</pre></div><div><p><span><a name="&gt;=-(greater-or-equal)"></a></span></p><pre class="pyret-display">left &lt; right</pre></div><div><p><span><a name="==-(equal)"></a></span></p><pre class="pyret-display">left &lt; right</pre></div><p>Comparison operators. See <a href="/Users/ds26gte/src/pyret-docs-pb/lang/equality.html#inequalities"></a>.</p><h2 id="Number-Functions" toclevel="2" tocentry="yes">Number Functions</h2><div><p><span><a name="num-equal"></a></span></p><pre class="pyret-display"><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#num-equal">num-equal</a> :: <span>(<span><span class="pyret-content">n1 :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span>, <span class="pyret-content">n2 :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></span>) -&gt; <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Boolean">Boolean</a></span></pre><p>If both arguments are <span class="pyret-highlight"><tt class="pyretexpr">Exactnum</tt></span>s, returns a <span class="pyret-highlight"><tt class="pyretexpr">Boolean</tt></span>. If either argument is <span class="pyret-highlight"><tt class="pyretexpr">Roughnum</tt></span>, raises an error.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  num-equal(2, 2) is true
  num-equal(2, 3) is false
  num-equal(1/2, 0.5) is true
  num-equal(1 / 2, 0.5) is true
  num-equal(1/3, 0.33) is false
  num-equal(1/3, ~0.33)
    raises "roughnums cannot be compared for equality"
end</pre></div></div><p>  </p><div><p><span><a name="num-max"></a></span></p><pre class="pyret-display"><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#num-max">num-max</a> :: <span>(<span><span class="pyret-content">n1 :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span>, <span class="pyret-content">n2 :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></span>) -&gt; <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></pre><p>Returns the greater of the two arguments.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  num-max(1, 2) is 2
  num-max(2, ~3) is-roughly ~3
  num-max(4, ~4) is 4
  num-max(~4, 4) is-roughly ~4
  num-max(-1.1, 0) is 0
end</pre></div></div><p>  </p><div><p><span><a name="num-min"></a></span></p><pre class="pyret-display"><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#num-min">num-min</a> :: <span>(<span><span class="pyret-content">n1 :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span>, <span class="pyret-content">n2 :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></span>) -&gt; <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></pre><p>Returns the lesser of the two arguments.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  num-min(1, 2) is 1
  num-min(2, ~3) is 2
  num-min(4, ~4) is 4
  num-min(~4, 4) is-roughly ~4
  num-min(-1.1, 0) is -1.1
end</pre></div></div><p>  </p><div><p><span><a name="num-abs"></a></span></p><pre class="pyret-display"><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#num-abs">num-abs</a> :: <span>(<span><span class="pyret-content">n :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></span>) -&gt; <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></pre><p>Returns the absolute value of the argument. The result is an   <span class="pyret-highlight"><tt class="pyretexpr">Exactnum</tt></span> only if the argument is.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  num-abs(2) is 2
  num-abs(-2.1) is 2.1
  num-abs(~2) is-roughly ~2
  num-abs(~-2.1) is-roughly ~2.1
end</pre></div></div><p>  </p><div><p><span><a name="num-sin"></a></span></p><pre class="pyret-display"><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#num-sin">num-sin</a> :: <span>(<span><span class="pyret-content">n :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></span>) -&gt; <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></pre><p>Returns the sine of the argument (an angle in radians), usually as a <span class="pyret-highlight"><tt class="pyretexpr">Roughnum</tt></span>.   If the argument is <span class="pyret-highlight"><tt class="pyretexpr">Exactnum</tt></span> 0, the result is <span class="pyret-highlight"><tt class="pyretexpr">Exactnum</tt></span> 0 too.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  num-sin(0) is 0
  num-sin(1) is%(within-abs(0.01)) 0.84
end</pre></div></div><p>  </p><div><p><span><a name="num-cos"></a></span></p><pre class="pyret-display"><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#num-cos">num-cos</a> :: <span>(<span><span class="pyret-content">n :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></span>) -&gt; <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></pre><p>Returns the cosine of the argument (an angle in radians), usually as a <span class="pyret-highlight"><tt class="pyretexpr">Roughnum</tt></span>. If the argument is <span class="pyret-highlight"><tt class="pyretexpr">Exactnum</tt></span> 0, the result is <span class="pyret-highlight"><tt class="pyretexpr">Exactnum</tt></span> 1.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  num-cos(0) is 1
  num-cos(1) is%(within-abs(0.01)) 0.54
end</pre></div></div><p>  </p><div><p><span><a name="num-tan"></a></span></p><pre class="pyret-display"><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#num-tan">num-tan</a> :: <span>(<span><span class="pyret-content">n :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></span>) -&gt; <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></pre><p>Returns the tangent of the argument (an angle in radians), usually as a <span class="pyret-highlight"><tt class="pyretexpr">Roughnum</tt></span>. If the argument is <span class="pyret-highlight"><tt class="pyretexpr">Exactnum</tt></span> 0, the result is <span class="pyret-highlight"><tt class="pyretexpr">Exactnum</tt></span> 1.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  num-tan(0) is 0
  num-tan(1) is%(within-abs(0.01)) 1.56
end</pre></div></div><p>  </p><div><p><span><a name="num-asin"></a></span></p><pre class="pyret-display"><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#num-asin">num-asin</a> :: <span>(<span><span class="pyret-content">n :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></span>) -&gt; <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></pre><p>Returns the arcsine of the argument as an angle in radians in the range [-π/2, π/2], usually as a <span class="pyret-highlight"><tt class="pyretexpr">Roughnum</tt></span>. If the argument is <span class="pyret-highlight"><tt class="pyretexpr">Exactnum</tt></span> 0, the result is <span class="pyret-highlight"><tt class="pyretexpr">Exactnum</tt></span> 0.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  num-asin(0) is 0
  num-asin(0.84) is%(within-abs(0.01)) 1
end</pre></div></div><p>  </p><div><p><span><a name="num-acos"></a></span></p><pre class="pyret-display"><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#num-acos">num-acos</a> :: <span>(<span><span class="pyret-content">n :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></span>) -&gt; <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></pre><p>Returns the arccosine of the argument as an angle in radians in the range [0, π], usually as a <span class="pyret-highlight"><tt class="pyretexpr">Roughnum</tt></span>. However, if the argument is <span class="pyret-highlight"><tt class="pyretexpr">Exactnum</tt></span> 1, the result is <span class="pyret-highlight"><tt class="pyretexpr">Exactnum</tt></span> 0.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  num-acos(1) is 0
  num-acos(0.54) is%(within-abs(0.01)) 1
end</pre></div></div><p>  </p><div><p><span><a name="num-atan"></a></span></p><pre class="pyret-display"><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#num-atan">num-atan</a> :: <span>(<span><span class="pyret-content">n :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></span>) -&gt; <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></pre><p>Returns the arctangent of the argument as an angle in radians in the range (-π/2, π/2), usually as a <span class="pyret-highlight"><tt class="pyretexpr">Roughnum</tt></span>. However, if the argument is <span class="pyret-highlight"><tt class="pyretexpr">Exactnum</tt></span> 0, the result is <span class="pyret-highlight"><tt class="pyretexpr">Exactnum</tt></span> 0.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  num-atan(0) is 0
  num-atan(1) is-roughly (3.141592 * 1/4) # 45 degrees = π/4 radians
  num-atan(-1) is-roughly (-3.141592 * 1/4) # 315 degrees = -π/4 radians
  num-atan(100000000000) is-roughly (3.141592 / 2) # 90 degrees = π/2 radians
  num-atan(-100000000000) is-roughly (-3.141592 / 2) # 270 degrees = -π/2 radians
end</pre></div></div><p>  </p><div><p><span><a name="num-atan2"></a></span></p><pre class="pyret-display"><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#num-atan2">num-atan2</a> :: <span>(<span><span class="pyret-content">dy :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span>, <span class="pyret-content">dx :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></span>) -&gt; <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></pre><p>The <span class="pyret-highlight"><tt class="pyretexpr">num-atan</tt></span> function takes a tangent value and returns <i>a</i> corresponding angle, but it is not clear which angle to return: for example, both <span class="pyret-highlight"><tt class="pyretexpr">num-tan(3.141592 * 1/4)</tt></span> and <span class="pyret-highlight"><tt class="pyretexpr">num-tan(3.141592 * 5/4)</tt></span> have a tangent of <span class="pyret-highlight"><tt class="pyretexpr">~1</tt></span>.  The <span class="pyret-highlight"><tt class="pyretexpr">num-atan2</tt></span> function produces an angle in radians in the range [0, 2π], where the tangent value is the <i>ratio</i> of the two arguments: the two arguments represent the (signed) <i>height</i> and <i>width</i> of a triangle whose angle is unknown (i.e., their ratio is the “rise over run”, defining the tangent of that angle).  The return value of <span class="pyret-highlight"><tt class="pyretexpr">num-atan2</tt></span> chooses which angle to return based on the following table:</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  num-atan2(0, 1) is 0
  num-atan2(1, 1) is-roughly (3.141592 * 1/4) # 45 degrees
  num-atan2(1, -1) is-roughly (3.141592 * 3/4) # 135 degrees
  num-atan2(-1, -1) is-roughly (3.141592 * 5/4) # 225 degrees
  num-atan2(-1, 1) is-roughly (3.141592 * 7/4) # 315 degrees
  num-atan2(1, 0) is-roughly (3.141592 * 1/2) # 90 degrees
  num-atan2(-1, 0) is-roughly (3.141592 * 3/2) # 270 degrees
end</pre></div></div><p>  </p><div><p><span><a name="num-modulo"></a></span></p><pre class="pyret-display"><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#num-modulo">num-modulo</a> :: <span>(<span><span class="pyret-content">n :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span>, <span class="pyret-content">divisor :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></span>) -&gt; <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></pre><p>Returns the modulus of the first argument with respect to the second, i.e. the remainder when dividing the first number by the second.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  num-modulo(5, 2) is 1
  num-modulo(-5, 2) is 1
  num-modulo(-5, -2) is -1
  num-modulo(7, 3) is 1
  num-modulo(0, 5) is 0
  num-modulo(-7, 3) is 2
end</pre></div><p>It is useful for calculating if one number is a multiple of another, by checking for a zero remainder.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">fun is-even(n :: Number) -&gt; Boolean:
  num-modulo(n, 2) == 0
where:
  is-even(6) is true
  is-even(3) is false
end</pre></div></div><p>  </p><div><p><span><a name="num-truncate"></a></span></p><pre class="pyret-display"><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#num-truncate">num-truncate</a> :: <span>(<span><span class="pyret-content">n :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></span>) -&gt; <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></pre><p>Returns the integer part of its argument by cutting off any decimal part. Does not do any rounding.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  num-truncate(3.14) is 3
  num-truncate(-3.14) is -3
  num-truncate(~3.14) is-roughly ~3
  num-truncate(~-3.14) is-roughly ~-3
end</pre></div></div><p>  </p><div><p><span><a name="num-sqrt"></a></span></p><pre class="pyret-display"><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#num-sqrt">num-sqrt</a> :: <span>(<span><span class="pyret-content">n :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></span>) -&gt; <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></pre><p>Returns the square root of the given argument.  If the argument is an <span class="pyret-highlight"><tt class="pyretexpr">Exactnum</tt></span> and a perfect square, the result is an <span class="pyret-highlight"><tt class="pyretexpr">Exactnum</tt></span>, otherwise, it is a <span class="pyret-highlight"><tt class="pyretexpr">Roughnum</tt></span>.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  num-sqrt(4) is 2
  num-sqrt(5) is%(within-abs(0.001)) ~2.236
  num-sqrt(~4) is%(within-abs(0.001)) ~2
  num-sqrt(~5) is%(within-abs(0.001)) ~2.236
  num-sqrt(0.04) is 1/5
  num-sqrt(-1) raises "negative argument"
end</pre></div></div><p>  </p><div><p><span><a name="num-sqr"></a></span></p><pre class="pyret-display"><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#num-sqr">num-sqr</a> :: <span>(<span><span class="pyret-content">n :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></span>) -&gt; <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></pre><p>Returns the square of the given argument.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  num-sqr(4) is 16
  num-sqr(5) is 25
  num-sqr(-4) is 16
  num-sqr(~4) is-roughly ~16
  num-sqr(0.04) is 1/625
end</pre></div></div><p>  </p><div><p><span><a name="num-ceiling"></a></span></p><pre class="pyret-display"><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#num-ceiling">num-ceiling</a> :: <span>(<span><span class="pyret-content">n :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></span>) -&gt; <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#Exactnum">Exactnum</a></span></pre><p>Returns the smallest integer <span class="pyret-highlight"><tt class="pyretexpr">Exactnum</tt></span> greater than or equal to the argument.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  num-ceiling(4.2) is 5
  num-ceiling(-4.2) is -4
end</pre></div></div><p>  </p><div><p><span><a name="num-floor"></a></span></p><pre class="pyret-display"><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#num-floor">num-floor</a> :: <span>(<span><span class="pyret-content">n :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></span>) -&gt; <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#Exactnum">Exactnum</a></span></pre><p>Returns the largest integer <span class="pyret-highlight"><tt class="pyretexpr">Exactnum</tt></span> less than or equal to the argument.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  num-floor(4.2) is 4
  num-floor(-4.2) is -5
end</pre></div></div><p>  </p><div><p><span><a name="num-round"></a></span></p><pre class="pyret-display"><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#num-round">num-round</a> :: <span>(<span><span class="pyret-content">n :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></span>) -&gt; <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#Exactnum">Exactnum</a></span></pre><p>Returns the closest integer <span class="pyret-highlight"><tt class="pyretexpr">Exactnum</tt></span> to the argument.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  num-round(4.2) is 4
  num-round(4.8) is 5
  num-round(-4.2) is -4
  num-round(-4.8) is -5
end</pre></div><p>If the argument is midway between integers, returns the integer further away from zero.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  num-round(3.5) is 4
  num-round(2.5) is 3
end</pre></div></div><p>  </p><div><p><span><a name="num-round-even"></a></span></p><pre class="pyret-display"><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#num-round-even">num-round-even</a> :: <span>(<span><span class="pyret-content">n :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></span>) -&gt; <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#Exactnum">Exactnum</a></span></pre><p>Similar to <span class="pyret-highlight"><tt class="pyretexpr">num-round</tt></span>, except that if the argument is midway between integers, returns the even integer <span class="pyret-highlight"><tt class="pyretexpr">Exactnum</tt></span>.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  num-round-even(3.5) is 4
  num-round-even(2.5) is 2
end</pre></div></div><p>  </p><div><p><span><a name="num-log"></a></span></p><pre class="pyret-display"><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#num-log">num-log</a> :: <span>(<span><span class="pyret-content">n :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></span>) -&gt; <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></pre><p>Returns the natural logarithm (ln) of the argument, usually as a <span class="pyret-highlight"><tt class="pyretexpr">Roughnum</tt></span>. If the argument is <span class="pyret-highlight"><tt class="pyretexpr">Exactnum</tt></span> 1, the result is <span class="pyret-highlight"><tt class="pyretexpr">Exactnum</tt></span> 0. If the argument is non-positive, an error is thrown.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  num-log(1) is 0
  num-log(0) raises "non-positive argument"
  num-log(-1) raises "non-positive argument"
  num-log(2.718281828) is%(within-abs(0.01)) 1
  num-log(10) is%(within-abs(0.1)) 2.3
end</pre></div></div><p>  </p><div><p><span><a name="num-exp"></a></span></p><pre class="pyret-display"><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#num-exp">num-exp</a> :: <span>(<span><span class="pyret-content">n :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></span>) -&gt; <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></pre><p>Returns e raised to the argument, usually as a <span class="pyret-highlight"><tt class="pyretexpr">Roughnum</tt></span>.  However, if the argument is <span class="pyret-highlight"><tt class="pyretexpr">Exactnum</tt></span> 0, the result is <span class="pyret-highlight"><tt class="pyretexpr">Exactnum</tt></span> 1.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  num-exp(-1) is%(within-abs(0.0001)) (1 / num-exp(1))
  num-exp(0) is 1
  num-exp(1) is%(within-abs(0.0001)) 2.718281828
  num-exp(3) is%(within-abs(0.0001)) num-expt(2.718281828, 3)
  num-exp(710) raises "exp: argument too large: 710"
end</pre></div></div><p>  </p><div><p><span><a name="num-expt"></a></span></p><pre class="pyret-display"><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#num-expt">num-expt</a> :: <span>(<span><span class="pyret-content">base :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span>, <span class="pyret-content">exponent :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></span>) -&gt; <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></pre><p>Returns the first argument raised to the second argument.  An error is thrown if the first argument is 0 and the second is negative. If the first argument is <span class="pyret-highlight"><tt class="pyretexpr">Exactnum</tt></span> 0 or 1, or the second argument is <span class="pyret-highlight"><tt class="pyretexpr">Exactnum</tt></span> 0, then the result is an <span class="pyret-highlight"><tt class="pyretexpr">Exactnum</tt></span> even if the other argument is a <span class="pyret-highlight"><tt class="pyretexpr">Roughnum</tt></span>.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  num-expt(3, 0) is 1
  num-expt(1, 3) is 1
  num-expt(0, 0) is 1
  num-expt(0, 3) is 0
  num-expt(0, -3) raises "division by zero"
  num-expt(2, 3) is 8
  num-expt(2, -3) is 1/8
end</pre></div></div><p>  </p><div><p><span><a name="num-to-roughnum"></a></span></p><pre class="pyret-display"><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#num-to-roughnum">num-to-roughnum</a> :: <span>(<span><span class="pyret-content">n :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></span>) -&gt; <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#Roughnum">Roughnum</a></span></pre><p>Given a number, returns the <span class="pyret-highlight"><tt class="pyretexpr">Roughnum</tt></span> version.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  num-is-roughnum(num-to-roughnum(3.14)) is true
  num-is-roughnum(num-to-roughnum(~3.14)) is true
end</pre></div></div><p>  </p><div><p><span><a name="num-is-integer"></a></span></p><pre class="pyret-display"><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#num-is-integer">num-is-integer</a> :: <span>(<span><span class="pyret-content">n :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></span>) -&gt; <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Boolean">Boolean</a></span></pre><p>Returns <span class="pyret-highlight"><tt class="pyretexpr">true</tt></span> if argument is an <span class="pyret-highlight"><tt class="pyretexpr">Exactnum</tt></span> integer.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  num-is-integer(2) is true
  num-is-integer(1/2) is false
  num-is-integer(1.609) is false
  num-is-integer(~2) is false
end</pre></div></div><p>  </p><div><p><span><a name="num-is-rational"></a></span></p><pre class="pyret-display"><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#num-is-rational">num-is-rational</a> :: <span>(<span><span class="pyret-content">n :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></span>) -&gt; <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Boolean">Boolean</a></span></pre><p>Returns <span class="pyret-highlight"><tt class="pyretexpr">true</tt></span> if argument is an <span class="pyret-highlight"><tt class="pyretexpr">Exactnum</tt></span> rational.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  num-is-rational(2) is true
  num-is-rational(1/2) is true
  num-is-rational(1.609) is true
  num-is-rational(~2) is false
end</pre></div></div><p>  </p><div><p><span><a name="num-is-roughnum"></a></span></p><pre class="pyret-display"><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#num-is-roughnum">num-is-roughnum</a> :: <span>(<span><span class="pyret-content">n :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></span>) -&gt; <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Boolean">Boolean</a></span></pre><p>Returns <span class="pyret-highlight"><tt class="pyretexpr">true</tt></span> if argument is a <span class="pyret-highlight"><tt class="pyretexpr">Roughnum</tt></span>.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  num-is-roughnum(2) is false
  num-is-roughnum(1/2) is false
  num-is-roughnum(1.609) is false
  num-is-roughnum(~2) is true
end</pre></div></div><p>  </p><div><p><span><a name="num-is-positive"></a></span></p><pre class="pyret-display"><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#num-is-positive">num-is-positive</a> :: <span>(<span><span class="pyret-content">n :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></span>) -&gt; <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Boolean">Boolean</a></span></pre><p>Returns <span class="pyret-highlight"><tt class="pyretexpr">true</tt></span> if argument is greater than zero.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  num-is-positive(~-2) is false
  num-is-positive(-2) is false
  num-is-positive(0) is false
  num-is-positive(-0) is false
  num-is-positive(2) is true
  num-is-positive(~2) is true
end</pre></div></div><p>  </p><div><p><span><a name="num-is-negative"></a></span></p><pre class="pyret-display"><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#num-is-negative">num-is-negative</a> :: <span>(<span><span class="pyret-content">n :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></span>) -&gt; <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Boolean">Boolean</a></span></pre><p>Returns <span class="pyret-highlight"><tt class="pyretexpr">true</tt></span> if argument is less than zero.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  num-is-negative(~-2) is true
  num-is-negative(-2) is true
  num-is-negative(0) is false
  num-is-negative(-0) is false
  num-is-negative(2) is false
  num-is-negative(~2) is false
end</pre></div></div><p>  </p><div><p><span><a name="num-is-non-positive"></a></span></p><pre class="pyret-display"><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#num-is-non-positive">num-is-non-positive</a> :: <span>(<span><span class="pyret-content">n :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></span>) -&gt; <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Boolean">Boolean</a></span></pre><p>Returns <span class="pyret-highlight"><tt class="pyretexpr">true</tt></span> if argument is less than or equal to zero.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  num-is-non-positive(~-2) is true
  num-is-non-positive(-2) is true
  num-is-non-positive(0) is true
  num-is-non-positive(-0) is true
  num-is-non-positive(2) is false
  num-is-non-positive(~2) is false
end</pre></div></div><p>  </p><div><p><span><a name="num-is-non-negative"></a></span></p><pre class="pyret-display"><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#num-is-non-negative">num-is-non-negative</a> :: <span>(<span><span class="pyret-content">n :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></span>) -&gt; <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Boolean">Boolean</a></span></pre><p>Returns <span class="pyret-highlight"><tt class="pyretexpr">true</tt></span> if argument is greater than or equal to zero.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  num-is-non-negative(~-2) is false
  num-is-non-negative(-2) is false
  num-is-non-negative(0) is true
  num-is-non-negative(-0) is true
  num-is-non-negative(2) is true
  num-is-non-negative(~2) is true
end</pre></div></div><p>  </p><div><p><span><a name="num-to-string"></a></span></p><pre class="pyret-display"><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#num-to-string">num-to-string</a> :: <span>(<span><span class="pyret-content">n :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></span>) -&gt; <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#String">String</a></span></pre><p>Returns a <span class="pyret-highlight"><tt class="pyretexpr">String</tt></span> representing a literal form of the number.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  num-to-string(2.5) is "5/2"
  num-to-string(2) is "2"
  num-to-string(2/3) is "2/3"
  num-to-string(~2.718) is "~2.718"
  num-to-string(~6.022e23) is "~6.022e+23"
end</pre></div></div><p>  </p><div><p><span><a name="num-to-string-digits"></a></span></p><pre class="pyret-display"><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#num-to-string-digits">num-to-string-digits</a> :: <span>(<span><span class="pyret-content">n :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span>, <span class="pyret-content">digits :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></span>) -&gt; <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#String">String</a></span></pre><p>Converts the number to a <span class="pyret-highlight"><tt class="pyretexpr">String</tt></span>, providing <span class="pyret-highlight"><tt class="pyretexpr">digits</tt></span> precision in the output.  If <span class="pyret-highlight"><tt class="pyretexpr">digits</tt></span> is positive, provides that many digits to the right of the decimal point (including adding zeroes beyond the actual precision of the number).  If <span class="pyret-highlight"><tt class="pyretexpr">digits</tt></span> is negative, rounds that many positions to the <i>left</i> of the decimal, replacing them with zeroes.</p><p>Note that <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#num-to-string-digits"><span class="pyret-highlight"><tt class="pyretexpr">num-to-string-digits</tt></span></a> is only for formatting, and its output’s apparent precision may be unrelated to the actual precision of the input number, which may have been an approximation, or unrepresentable in decimal.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  num-to-string-digits(2/3, 3) is "0.667"
  num-to-string-digits(-2/3, 3) is "-0.667"
  num-to-string-digits(5, 2) is "5.00"
  num-to-string-digits(5, 0) is "5"
  num-to-string-digits(555, -2) is "600"
end</pre></div></div><p>  </p><div><p><span><a name="num-within-abs"></a></span></p><pre class="pyret-display"><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#num-within-abs">num-within-abs</a> :: <span>(<span><span class="pyret-content">tol :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></span>) -&gt; <span><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a>, <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a> -&gt; <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Boolean">Boolean</a></span></span></pre><p>Returns a predicate that checks if the difference of its two arguments is less than <span class="pyret-highlight"><tt class="pyretexpr">tol</tt></span>.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
   1  is%(num-within-abs(0.1))       1
   1  is%(num-within-abs(0.1))      ~1
  ~3  is%(num-within-abs(0.1))      ~3
  ~2  is-not%(num-within-abs(0.1))  ~3
  ~2  is%(num-within-abs(1.1))      ~3
  ~2  is%(num-within-abs(~1))       ~3
   2  is%(num-within-abs(1))        ~3
   5  is%(num-within-abs(4))         3

   num-within-abs(-0.1)(1, 1.05) raises "negative tolerance"
end</pre></div></div><p>  </p><div><p><span><a name="num-within-rel"></a></span></p><pre class="pyret-display"><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#num-within-rel">num-within-rel</a> :: <span>(<span><span class="pyret-content">tol :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></span>) -&gt; <span><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a>, <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a> -&gt; <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Boolean">Boolean</a></span></span></pre><p>Returns a predicate that checks that its first number argument is no more than the fraction <span class="pyret-highlight"><tt class="pyretexpr">tol</tt></span> off from its second argument.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  100000 is%(num-within-rel(0.1)) 95000
  100000 is-not%(num-within-rel(0.1)) 85000
end</pre></div></div><p>  </p><div><p><span><a name="num-within"></a></span></p><pre class="pyret-display"><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#num-within">num-within</a> :: <span>(<span><span class="pyret-content">tol :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></span>) -&gt; <span><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a>, <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a> -&gt; <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Boolean">Boolean</a></span></span></pre><p>An alias for <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#num-within-rel"><span class="pyret-highlight"><tt class="pyretexpr">num-within-rel</tt></span></a>, much as <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/lang/equality.html#within"><span class="pyret-highlight"><tt class="pyretexpr">within</tt></span></a> and <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/lang/equality.html#within-rel"><span class="pyret-highlight"><tt class="pyretexpr">within-rel</tt></span></a> are synonyms.</p></div><p>  </p><div><p><span><a name="within"></a></span></p><pre class="pyret-display"><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#within">within</a> :: <span>(<span><span class="pyret-content">tol :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></span>) -&gt; <span>Any, Any -&gt; <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Boolean">Boolean</a></span></span></pre></div><p>  </p><div><p><span><a name="within-abs"></a></span></p><pre class="pyret-display"><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#within-abs">within-abs</a> :: <span>(<span><span class="pyret-content">tol :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></span>) -&gt; <span>Any, Any -&gt; <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Boolean">Boolean</a></span></span></pre></div><p>  </p><div><p><span><a name="within-rel"></a></span></p><pre class="pyret-display"><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#within-rel">within-rel</a> :: <span>(<span><span class="pyret-content">tol :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></span>) -&gt; <span>Any, Any -&gt; <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Boolean">Boolean</a></span></span></pre></div><p>  </p><div><p><span><a name="within-abs-now"></a></span></p><pre class="pyret-display"><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#within-abs-now">within-abs-now</a> :: <span>(<span><span class="pyret-content">tol :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></span>) -&gt; <span>Any, Any -&gt; <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Boolean">Boolean</a></span></span></pre></div><p>  </p><div><p><span><a name="within-rel-now"></a></span></p><pre class="pyret-display"><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#within-rel-now">within-rel-now</a> :: <span>(<span><span class="pyret-content">tol :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></span>) -&gt; <span>Any, Any -&gt; <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Boolean">Boolean</a></span></span></pre></div><p>  These comparison functions compare both numbers and structures, and are   documented in <a href="/Users/ds26gte/src/pyret-docs-pb/lang/equality.html#s:bounded-equalities"></a>.</p><p>  </p><div><p><span><a name="within-abs3"></a></span></p><pre class="pyret-display"><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#within-abs3">within-abs3</a> :: <span>(<span><span class="pyret-content">tol :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></span>) -&gt; <span>Any, Any -&gt; EqualityResult</span></span></pre></div><p>  </p><div><p><span><a name="within-rel3"></a></span></p><pre class="pyret-display"><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#within-rel3">within-rel3</a> :: <span>(<span><span class="pyret-content">tol :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></span>) -&gt; <span>Any, Any -&gt; EqualityResult</span></span></pre></div><p>  </p><div><p><span><a name="within-abs-now3"></a></span></p><pre class="pyret-display"><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#within-abs-now3">within-abs-now3</a> :: <span>(<span><span class="pyret-content">tol :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></span>) -&gt; <span>Any, Any -&gt; EqualityResult</span></span></pre></div><p>  </p><div><p><span><a name="within-rel-now3"></a></span></p><pre class="pyret-display"><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#within-rel-now3">within-rel-now3</a> :: <span>(<span><span class="pyret-content">tol :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></span>) -&gt; <span>Any, Any -&gt; EqualityResult</span></span></pre></div><p>  These comparison functions are like the ones above, but return   <a href="../../../../../../missing_gloss"><span class="pyret-highlight"><tt class="pyretexpr">EqualityResult</tt></span></a>s, and are documented in <a href="/Users/ds26gte/src/pyret-docs-pb/lang/equality.html#s:total-equality-predicates"></a>.</p><h2 id="Random-Numbers" toclevel="2" tocentry="yes">Random Numbers</h2><p>  </p><div><p><span><a name="num-random"></a></span></p><pre class="pyret-display"><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#num-random">num-random</a> :: <span>(<span><span class="pyret-content">max :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></span>) -&gt; <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></pre><p>  Returns a pseudo-random integer from <span class="pyret-highlight"><tt class="pyretexpr">0</tt></span> to <span class="pyret-highlight"><tt class="pyretexpr">max - 1</tt></span>.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  fun between(min, max):
    lam(v): (v &gt;= min) and (v &lt;= max) end
  end
  for each(i from range(0, 100)):
    block:
      n = num-random(10)
      print(n)
      n satisfies between(0, 10 - 1)
    end
  end
end</pre></div></div><p>  </p><div><p><span><a name="num-random-seed"></a></span></p><pre class="pyret-display"><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#num-random-seed">num-random-seed</a> :: <span>(<span><span class="pyret-content">seed :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></span>) -&gt; <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Nothing">Nothing</a></span></pre><p>Sets the random seed.  Setting the seed to a particular number makes all future uses of random produce the same sequence of numbers.  Useful for testing and debugging functions that have random behavior.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  num-random-seed(0)
  n = num-random(1000)
  n2 = num-random(1000)

  n is-not n2

  num-random-seed(0)
  n3 = num-random(1000)
  n3 is n
  n4 = num-random(1000)
  n4 is n2
end</pre></div></div><p>The random seed is set globally.  If it is set in tests in a game or another program that should not run the same way every time, add an identifier you can set as a flag indicating if you are running the code in testing or production.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">
IS-TESTING = true  # change as needed

when IS-TESTING:
  num-random-seed(...)
end</pre></div><h2 id="Other-Number-Functions" toclevel="2" tocentry="yes">Other Number Functions</h2><p>  A few other number functions are useful in limited cases that don’t come up   in most programs.</p><p>  </p><div><p><span><a name="num-is-fixnum"></a></span></p><pre class="pyret-display"><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#num-is-fixnum">num-is-fixnum</a> :: <span>(<span><span class="pyret-content">n :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></span>) -&gt; <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Boolean">Boolean</a></span></pre><p>Returns <span class="pyret-highlight"><tt class="pyretexpr">true</tt></span> if the argument is represented directly as a primitive JavaScript number (i.e., JavaScript double).</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  num-is-fixnum(10) is true
  num-is-fixnum(~10) is false
  num-is-fixnum(1000000000000000) is true
  num-is-fixnum(10000000000000000) is false
  num-is-fixnum(1.5) is false
end</pre></div><div class="margin-note">Pyret represents <span class="pyret-highlight"><tt class="pyretexpr">Exactnums</tt></span> that are non-integers as tuples, and hence even small rationals such as 1.5 are considered non-<span class="pyret-highlight"><tt class="pyretexpr">fixnum</tt></span>, although they could be represented as JavaScript doubles.</div></div><p>  </p><div><p><span><a name="num-exact"></a></span></p><pre class="pyret-display"><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#num-exact">num-exact</a> :: <span>(<span><span class="pyret-content">n :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></span>) -&gt; <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#Exactnum">Exactnum</a></span></pre></div><p>  </p><div><p><span><a name="num-to-rational"></a></span></p><pre class="pyret-display"><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#num-to-rational">num-to-rational</a> :: <span>(<span><span class="pyret-content">n :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></span>) -&gt; <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/numbers.html#Exactnum">Exactnum</a></span></pre></div><p>Given a <span class="pyret-highlight"><tt class="pyretexpr">Roughnum</tt></span>, returns an <span class="pyret-highlight"><tt class="pyretexpr">Exactnum</tt></span> number most equal to it. Given an <span class="pyret-highlight"><tt class="pyretexpr">Exactnum</tt></span> num, returns it directly.</p><div class="margin-note">It is not good practice to indiscriminately convert <span class="pyret-highlight"><tt class="pyretexpr">Roughnum</tt></span>s to <span class="pyret-highlight"><tt class="pyretexpr">Exactnum</tt></span>s to make comparison easier. Use <span class="pyret-highlight"><tt class="pyretexpr">within()</tt></span> or <span class="pyret-highlight"><tt class="pyretexpr">is-roughly</tt></span>.</div><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  num-sqrt(2) is%(within-abs(0.000001)) ~1.4142135623730951
  num-exact(num-sqrt(2)) is 1.4142135623730951
  num-to-rational(num-sqrt(2)) is 1.4142135623730951
end</pre></div></div></root>
    <hr/>
    <!-- The current page is builtin/numbers.html. -->
    <a class="floatleft" href="../trove/globals.html">⏴⏴⏴</a>
    <a class="floatright" href="../builtin/strings.html">⏵⏵⏵</a>
    </div>
  </body>
</html>