<!doctype html>
<html lang="en">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
  <script type="module" src="../embed-api.js"></script>
  <script src="../codemirror.js"></script>
  <script src="../runmode.js"></script>
  <script src="../pyret.js"></script>
  <script src="../hilite.js"></script>
  <link rel="stylesheet" type="text/css" href="../codemirror.css" title="default"/>
  <link rel="stylesheet" type="text/css" href="../pyret.css" title="default"/>
  <link rel="stylesheet" type="text/css" href="../styles.css" title="default"/>
  <head>
    <title>string-dict</title>
  </head>
  <body>
    <div class="container">
    <root><div><h1 id="string-dict" toclevel="1" tocentry="yes">string-dict</h1><div><p>Usage:</p><pre class="pyret-highlight">include string-dict</pre><pre class="pyret-highlight">import string-dict as ...</pre></div><h2 id="The-StringDict-Type" toclevel="2" tocentry="yes">The StringDict Type</h2><div><p><span><a name="StringDict"></a></span></p><pre class="pyret-display"><span><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/string-dict.html#StringDict">StringDict</a>&lt;a&gt;</span></pre><p><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/string-dict.html#StringDict"><span class="pyret-highlight"><tt class="pyretexpr">StringDict</tt></span></a>s keep track of a mapping from <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/strings.html#String"><span class="pyret-highlight"><tt class="pyretexpr">String</tt></span></a>s to any Pyret value. A <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/string-dict.html#StringDict"><span class="pyret-highlight"><tt class="pyretexpr">StringDict</tt></span></a> is immutable, i.e., a mapping cannot be changed; however, a new <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/string-dict.html#StringDict"><span class="pyret-highlight"><tt class="pyretexpr">StringDict</tt></span></a> can be fashioned from an existing <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/string-dict.html#StringDict"><span class="pyret-highlight"><tt class="pyretexpr">StringDict</tt></span></a> with a new, omitted, or changed mapping.</p><p>A <span class="pyret-highlight"><tt class="pyretexpr">StringDict</tt></span> can be unfrozen, i.e.,  used as the basis for <span class="pyret-highlight"><tt class="pyretexpr">MutableStringDict</tt></span>, which does allow modification (see below).</p><p>There are no variants for <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/string-dict.html#StringDict"><span class="pyret-highlight"><tt class="pyretexpr">StringDict</tt></span></a>s, and programs cannot use <span class="pyret-highlight"><tt class="pyretexpr">cases</tt></span> statements with <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/string-dict.html#StringDict"><span class="pyret-highlight"><tt class="pyretexpr">StringDict</tt></span></a>s.  Instead, they can be created with the constructors below, and manipulated with the methods and functions below.</p></div><h2 id="StringDict-Constructor" toclevel="2" tocentry="yes">StringDict Constructor</h2><div><p><span><a name="string-dict"></a></span></p><pre class="pyret-display">[<a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/string-dict.html#string-dict">string-dict</a><span></span>: <span class="pyret-content">key :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#String">String</a></span>, <span class="pyret-content">elt :: a</span>, ...] -&gt; <span><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/string-dict.html#StringDict">StringDict</a>&lt;<span>a</span>&gt;</span></pre></div><p>Creates a string-dict with the given <span class="pyret-highlight"><tt class="pyretexpr">elt</tt></span>s.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">sd1 = [string-dict: "a", 5, "b", 10]</pre></div><h2 id="StringDict-Methods" toclevel="2" tocentry="yes">StringDict Methods</h2><div><p><span><a name=".get"></a></span></p><pre class="pyret-display">.get :: <span><span class="pyret-content">(key :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#String">String</a>)</span> -&gt; <span><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/option.html#Option">Option</a>&lt;<span>a</span>&gt;</span></span></pre></div><p>Returns <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/option.html#none"><span class="pyret-highlight"><tt class="pyretexpr">none</tt></span></a> if the key is not in the dictionary, and a <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/option.html#some"><span class="pyret-highlight"><tt class="pyretexpr">some</tt></span></a> containing the value the key maps to if the key is in the dictionary.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  [string-dict: "a", 5].get("a") is some(5)
  [string-dict: "a", 5].get("b") is none
end</pre></div><div><p><span><a name=".get-value"></a></span></p><pre class="pyret-display">.get-value :: <span><span class="pyret-content">(key :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#String">String</a>)</span> -&gt; a</span></pre></div><p>Returns the value that <span class="pyret-highlight"><tt class="pyretexpr">key</tt></span> maps to if it is present, and throws an exception otherwise.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  [string-dict: "a", 5].get-value("a") is 5
  [string-dict: "a", 5].get-value("b") raises "Key b not found"
end</pre></div><div><p><span><a name=".set"></a></span></p><pre class="pyret-display">.set :: <span>(<span><span class="pyret-content">key :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#String">String</a></span>, <span class="pyret-content">value :: a</span></span>) -&gt; <span><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/string-dict.html#StringDict">StringDict</a>&lt;<span>a</span>&gt;</span></span></pre></div><p>Returns a new string-dict that maps <span class="pyret-highlight"><tt class="pyretexpr">key</tt></span> to <span class="pyret-highlight"><tt class="pyretexpr">value</tt></span> and is otherwise similar to the original string-dict.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  sd1 = [string-dict: "a", 5, "b", 10]
  sd1.get-value("a") is 5
  sd1.get-value("b") is 10
  sd2 = sd1.set("a", 15)
  sd2.get-value("a") is 15
  sd2.get-value("b") is 10
end</pre></div><p>Setting a value is not restricted to existing keys.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  s1 = [string-dict: ]
  s2 = s1.set("Hello", "World")
  s1.get("Hello") is none
  s2.get("Hello") is some("World")
end</pre></div><div><p><span><a name=".has-key"></a></span></p><pre class="pyret-display">.has-key :: <span>(<span><span class="pyret-content">key :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#String">String</a></span></span>) -&gt; <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Boolean">Boolean</a></span></pre></div><p>Returns <span class="pyret-highlight"><tt class="pyretexpr">true</tt></span> if <span class="pyret-highlight"><tt class="pyretexpr">key</tt></span> is in the string-dict; <span class="pyret-highlight"><tt class="pyretexpr">false</tt></span> if not.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  sd1 = [string-dict: "a", 5]
  sd1.has-key("a") is true
  sd1.has-key("b") is false
end</pre></div><div><p><span><a name=".keys"></a></span></p><pre class="pyret-display">.keys :: <span>(<span></span>) -&gt; <span><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/sets.html#Set">Set</a>&lt;<span><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#String">String</a></span>&gt;</span></span></pre></div><p>Returns the set of keys in the string-dict.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  sd1 = [string-dict: "a", 5, "b", 10]
  sd1.keys() is [tree-set: "a", "b"]
  sd1.keys() is [tree-set: "b", "a"]
end</pre></div><div><p><span><a name=".remove"></a></span></p><pre class="pyret-display">.remove :: <span>(<span><span class="pyret-content">key :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#String">String</a></span></span>) -&gt; <span><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/string-dict.html#StringDict">StringDict</a>&lt;<span>a</span>&gt;</span></span></pre></div><p>Returns a new string-dict that doesn’t have the argument key but is otherwise similar to the original string-dict.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  sd1 = [string-dict: "a", 5, "b", 10]
  sd1.has-key("a") is true
  sd1.has-key("b") is true
  sd2 = sd1.remove("b")
  sd2.has-key("a") is true
  sd2.has-key("b") is false
end</pre></div><div><p><span><a name=".count"></a></span></p><pre class="pyret-display">.count :: <span>(<span></span>) -&gt; <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></pre></div><p>Returns the number of keys in the string-dict.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  sd1 = [string-dict: "a", 5, "b", 10]
  sd1.count() is 2
  sd2 = sd1.set("c", 15)
  sd2.count() is 3
  sd3 = sd1.remove("a")
  sd3.count() is 1
end</pre></div><div><p><span><a name=".unfreeze"></a></span></p><pre class="pyret-display">.unfreeze :: <span>(<span></span>) -&gt; <span><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/string-dict.html#MutableStringDict">MutableStringDict</a>&lt;<span>a</span>&gt;</span></span></pre></div><p>Returns a mutable string-dict that has the same keys and values as the original string-dict.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  sd1 = [string-dict: "a", 5, "b", 10]
  msd1 = sd1.unfreeze()
  msd1.set-now("a", 0)
  msd1.get-value-now("a") is 0
end</pre></div><h2 id="The-MutableStringDict-Type" toclevel="2" tocentry="yes">The MutableStringDict Type</h2><div><p><span><a name="MutableStringDict"></a></span></p><pre class="pyret-display"><span><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/string-dict.html#MutableStringDict">MutableStringDict</a>&lt;a&gt;</span></pre><p><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/string-dict.html#MutableStringDict"><span class="pyret-highlight"><tt class="pyretexpr">MutableStringDict</tt></span></a>s keep track of a mapping from <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/builtin/strings.html#String"><span class="pyret-highlight"><tt class="pyretexpr">String</tt></span></a>s to any Pyret value. In contrast to <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/string-dict.html#StringDict"><span class="pyret-highlight"><tt class="pyretexpr">StringDict</tt></span></a>s, a <span class="pyret-highlight"><tt class="pyretexpr">MutableStringDict</tt></span> can have mappings added, deleted, or changed.</p><p>A <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/string-dict.html#MutableStringDict"><span class="pyret-highlight"><tt class="pyretexpr">MutableStringDict</tt></span></a> can be sealed to produce a variant that is read-only. A <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/string-dict.html#MutableStringDict"><span class="pyret-highlight"><tt class="pyretexpr">MutableStringDict</tt></span></a> can also be frozen to produce an immutable <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/string-dict.html#StringDict"><span class="pyret-highlight"><tt class="pyretexpr">StringDict</tt></span></a> (see above).</p><p>There are no variants for <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/string-dict.html#MutableStringDict"><span class="pyret-highlight"><tt class="pyretexpr">MutableStringDict</tt></span></a>s, and programs cannot use <span class="pyret-highlight"><tt class="pyretexpr">cases</tt></span> statements with <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/string-dict.html#MutableStringDict"><span class="pyret-highlight"><tt class="pyretexpr">MutableStringDict</tt></span></a>s. Instead, they can be created with the constructors below, and manipulated with the methods and functions below.</p></div><h2 id="MutableStringDict-Constructor" toclevel="2" tocentry="yes">MutableStringDict Constructor</h2><div><p><span><a name="mutable-string-dict"></a></span></p><pre class="pyret-display">[<a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/string-dict.html#mutable-string-dict">mutable-string-dict</a><span></span>: <span class="pyret-content">elt :: a</span>, ...] -&gt; <span><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/string-dict.html#MutableStringDict">MutableStringDict</a>&lt;<span>a</span>&gt;</span></pre></div><p>Creates an mutable string-dict with the given <span class="pyret-highlight"><tt class="pyretexpr">elt</tt></span>s.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">msd1 = [mutable-string-dict: "a", 5, "b", 10]</pre></div><h2 id="MutableStringDict-Methods" toclevel="2" tocentry="yes">MutableStringDict Methods</h2><div><p><span><a name=".get-now"></a></span></p><pre class="pyret-display">.get-now :: <span><span class="pyret-content">(key :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#String">String</a>)</span> -&gt; <span><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/option.html#Option">Option</a>&lt;<span>a</span>&gt;</span></span></pre></div><p>Returns <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/option.html#none"><span class="pyret-highlight"><tt class="pyretexpr">none</tt></span></a> if the key is not in the dictionary, and a <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/option.html#some"><span class="pyret-highlight"><tt class="pyretexpr">some</tt></span></a> containing the value the key maps to if the key is in the dictionary.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  [mutable-string-dict: "a", 5].get-now("a") is some(5)
  [mutable-string-dict: "a", 5].get-now("b") is none
end</pre></div><div><p><span><a name=".get-value-now"></a></span></p><pre class="pyret-display">.get-value-now :: <span><span class="pyret-content">(key :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#String">String</a>)</span> -&gt; a</span></pre></div><p>Returns the value that <span class="pyret-highlight"><tt class="pyretexpr">key</tt></span> maps to if it is present, and throws an exception otherwise.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  [mutable-string-dict: "a", 5].get-value-now("a") is 5
  [mutable-string-dict: "a", 5].get-value-now("b") raises "Key b not found"
end</pre></div><div><p><span><a name=".set-now"></a></span></p><pre class="pyret-display">.set-now :: <span>(<span><span class="pyret-content">key :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#String">String</a></span>, <span class="pyret-content">value :: a</span></span>) -&gt; <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Nothing">Nothing</a></span></pre></div><p>Modifies the mutable-string-dict so that it now maps <span class="pyret-highlight"><tt class="pyretexpr">key</tt></span> to <span class="pyret-highlight"><tt class="pyretexpr">value</tt></span>. This method is called only for its side-effect and so returns <span class="pyret-highlight"><tt class="pyretexpr">nothing</tt></span></p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  msd1 = [mutable-string-dict: "a", 5, "b", 10]
  msd1.get-value-now("a") is 5
  msd1.get-value-now("b") is 10
  msd1.set-now("a", 15) is nothing
  msd1.get-value-now("a") is 15
  msd1.get-value-now("b") is 10
end</pre></div><div><p><span><a name=".has-key-now"></a></span></p><pre class="pyret-display">.has-key-now :: <span><span class="pyret-content">(key :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#String">String</a>)</span> -&gt; <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Boolean">Boolean</a></span></pre></div><p>Returns <span class="pyret-highlight"><tt class="pyretexpr">true</tt></span> if <span class="pyret-highlight"><tt class="pyretexpr">key</tt></span> is in the string-dict; <span class="pyret-highlight"><tt class="pyretexpr">false</tt></span> if not.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  msd1 = [mutable-string-dict: "a", 5]
  msd1.has-key-now("a") is true
  msd1.has-key-now("b") is false
end</pre></div><div><p><span><a name=".keys-now"></a></span></p><pre class="pyret-display">.keys-now :: <span>(<span></span>) -&gt; <span><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/sets.html#Set">Set</a>&lt;<span><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#String">String</a></span>&gt;</span></span></pre></div><p>Returns the set of keys in the string-dict.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  msd1 = [mutable-string-dict: "a", 5, "b", 10]
  msd1.keys-now() is [tree-set: "a", "b"]
  msd1.keys-now() is [tree-set: "b", "a"]
end</pre></div><div><p><span><a name=".remove-now"></a></span></p><pre class="pyret-display">.remove-now :: <span><span class="pyret-content">(key :: <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#String">String</a>)</span> -&gt; <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Nothing">Nothing</a></span></pre></div><p>Modifies the mutable-string-dict so that it no longer has the argument <span class="pyret-highlight"><tt class="pyretexpr">key</tt></span>.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  msd1 = [mutable-string-dict: "a", 5, "b", 10]
  msd1.has-key-now("a") is true
  msd1.has-key-now("b") is true
  msd1.remove-now("b") is nothing
  msd1.has-key-now("a") is true
  msd1.has-key-now("b") is false
end</pre></div><div><p><span><a name=".count-now"></a></span></p><pre class="pyret-display">.count-now :: <span>(<span></span>) -&gt; <a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/globals.html#Number">Number</a></span></pre></div><p>Returns the number of keys in the mutable-string-dict.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  msd1 = [mutable-string-dict: "a", 5, "b", 10]
  msd1.count-now() is 2
  msd1.set-now("c", 15)
  msd1.count-now() is 3
  msd1.remove-now("a")
  msd1.count-now() is 2
end</pre></div><div><p><span><a name=".freeze"></a></span></p><pre class="pyret-display">.freeze :: <span>(<span></span>) -&gt; <span><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/string-dict.html#StringDict">StringDict</a>&lt;<span>a</span>&gt;</span></span></pre></div><p>Returns an immutable string-dict that has the same keys and values as the mutable one.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  msd1 = [mutable-string-dict: "a", 5, "b", 10]
  sd1 = msd1.freeze()
  sd2 = sd1.set("a", 10)
  sd2.get-value("a") is 10
  sd1.get-value("a") is 5
end</pre></div><div><p><span><a name=".seal"></a></span></p><pre class="pyret-display">.seal :: <span>(<span></span>) -&gt; <span><a href="../../../../../..//Users/ds26gte/src/pyret-docs-pb/trove/string-dict.html#MutableStringDict">MutableStringDict</a>&lt;<span>a</span>&gt;</span></span></pre></div><p>Returns a sealed version of the mutable-string-dict that has the same keys and values, but does not allow modification. The original mutable-string-dict continues to be modifiable, and such modifications will be visible in the sealed one.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  msd1 = [mutable-string-dict: "a", 5, "b", 10]
  smsd1 = msd1.seal()
  smsd1.get-value-now("a") is 5
  smsd1.set-now("a", 15) raises "Cannot modify sealed string dict"
  msd1.set-now("a", 15) is nothing
  msd1.get-value-now("a") is 15
  smsd1.get-value-now("a") is 15
end</pre></div></div></root>
    <hr/>
    <!-- The current page is trove/string-dict.html. -->
    <a class="floatleft" href="../trove/arrays.html">⏴⏴⏴</a>
    <a class="floatright" href="../builtin/tables.html">⏵⏵⏵</a>
    </div>
  </body>
</html>