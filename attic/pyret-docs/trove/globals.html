<!doctype html>
<html lang="en">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
  <script type="module" src="../embed-api.js"></script>
  <link rel="stylesheet" href="../styles.css">
  <head>
    <title>Global Utilities</title>
  </head>
  <body>
    <div class="container">
    <root><div><h1 id="&lt;global&gt;" toclevel="1" tocentry="yes">Global Utilities</h1><p>—<a href="https://pyret.org/docs/latest/_global_.html">Original doc link</a></p><h2 id="global-builtins" toclevel="2" tocentry="yes">Built-in Utility Functions</h2><div><pre class="pyret-display">print :: <span><span class="pyret-content">(val :: a)</span> -&gt; a</span></pre></div><p>Displays the provided value after first calling <tt class="pyretexpr">to-repr</tt> on it, then returns the value.</p><div><pre class="pyret-display">torepr :: <span><span class="pyret-content">(val :: Any)</span> -&gt; String</span></pre></div><div><pre class="pyret-display">to-repr :: <span><span class="pyret-content">(val :: Any)</span> -&gt; String</span></pre></div><p>Creates a string representation of the value that resembles an expression that could be used to construct it.</p><p>The <tt class="pyretexpr">to-repr</tt> of a string yields a string containing the Pyret syntax needed to write the original value as string literal: most characters are unchanged, but quotes, newlines, tabs, and backslashes are all escaped, and the whole value surrounded by quotes.</p><p>Functions are simply represented as <tt class="pyretexpr">“&lt;function&gt;”</tt>.</p><div><p><b>Examples:</b></p><pre>check:
  to-repr([list: 3, 5, 9]) is "[list: 3, 5, 9]"
  torepr("Hello, world.") is "\"Hello, world.\""
  to-repr("Hi.") == "Hi." is false
  to-repr((lam(i): i + 1 end)) is "&lt;function&gt;"
end</pre></div><div><pre class="pyret-display">tostring :: <span><span class="pyret-content">(val :: Any)</span> -&gt; String</span></pre></div><div><pre class="pyret-display">to-string :: <span><span class="pyret-content">(val :: Any)</span> -&gt; String</span></pre></div><p>Creates a string representation of the value for display that is value-dependent in some cases, such as error messages.  For built-in types the output is identical to <tt class="pyretexpr">torepr</tt>, except for <tt class="pyretexpr">String</tt>s.</p><div><p><b>Examples:</b></p><pre>check:
  # tostring does not wrap strings in quotes
  tostring("Hello, world.") is "Hello, world."
  to-string("Hi.") == "Hi." is true
end</pre></div><div><pre class="pyret-display">raise :: <span><span class="pyret-content">(val :: Any)</span> -&gt; Nothing</span></pre></div><p>Raises the value as an error.  This usually stops the program and reports the raised value, but errors can be caught and checked in tests by <tt class="pyretexpr">raisestesting</tt> and by <a href="lang/testing.html#testing-blocks"><tt class="pyretexpr">check:</tt>   blocks</a>.</p><p><img src="raise.png"/></p><h2 id="Built-in-Types" toclevel="2" tocentry="yes">Built-in Types</h2><div><p><span><a name="Any-50"></a></span></p><pre class="pyret-display"><a href="../trove/globals.html#Any-50">Any</a></pre><p>A type specification that permits all values.  This is mainly useful in built-in language forms, like in <a href="lang/equality.html#equality"></a> or <tt class="pyretexpr">torepr</tt>, which truly do handle any value.</p><p>Pyret programs that use <tt class="pyretexpr">Any</tt> on their own can usually be restructured to use a specific type declaration to be more clear about what data they are working with.</p><p>Specifying <tt class="pyretexpr">Any</tt> will prevent Pyret from attempting to infer types, as it will if no type specification is provided.</p></div><div><p><span><a name="Boolean-51"></a></span></p><pre class="pyret-display"><a href="../builtin/booleans.html#Boolean-1">Boolean</a></pre><p>The type of <a href="UnDeFiNeD"></a>.</p></div><div><p><span><a name="Number-52"></a></span></p><pre class="pyret-display"><a href="../builtin/numbers.html#Number-4">Number</a></pre><p>The type of <a href="builtin/numbers.html#numbers"></a>.</p></div><div><p><span><a name="String-53"></a></span></p><pre class="pyret-display"><a href="../builtin/strings.html#String-28">String</a></pre><p>The type of <a href="builtin/strings.html#strings"></a>.</p></div><div><p><span><a name="RawArray-54"></a></span></p><pre class="pyret-display"><a href="../builtin/raw-arrays.html#RawArray-23">RawArray</a></pre><p>The type of <a href="builtin/raw-arrays.html#raw-arrays"></a>.</p></div><div><p><span><a name="Nothing-55"></a></span></p><pre class="pyret-display"><a href="../trove/globals.html#Nothing-55">Nothing</a></pre><p>The type of the special value <tt class="pyretexpr">nothing</tt>, used in contexts where the program evaluates but has no meaningful answer by design (see, for example <tt class="pyretexpr">eachlists</tt>).  Note that <tt class="pyretexpr">nothing</tt> is still a value.</p><div><p><b>Examples:</b></p><pre>check:
  [list: nothing, nothing, nothing].length() is 3
end</pre></div></div><div><p><span><a name="Function-56"></a></span></p><pre class="pyret-display"><a href="../trove/globals.html#Function-56">Function</a></pre><p>The type of all <a href="tour.html#functions-tour">function values</a>.</p></div><div><p><span><a name="Method-57"></a></span></p><pre class="pyret-display"><a href="../trove/globals.html#Method-57">Method</a></pre><p>The type of all method values.</p></div><div><p><span><a name="Object-58"></a></span></p><pre class="pyret-display"><a href="../trove/globals.html#Object-58">Object</a></pre><p>The type of all values constructed from <tt class="pyretexpr">data</tt> <a href="lang/forms.html#s:data-decl">constructors and
singletons</a>, and by <a href="lang/forms.html#s:obj-expr">object literals</a>.</p></div><div><p><span><a name="Table-59"></a></span></p><pre class="pyret-display"><a href="../builtin/tables.html#Table-38">Table</a></pre><p>The type of <a href="builtin/tables.html#tables"></a>.</p></div><h2 id="Type-Predicates" toclevel="2" tocentry="yes">Type Predicates</h2><p>A number of functions are available to tell which kind of builtin value a particular value is.</p><div><pre class="pyret-display">is-boolean :: <span><span class="pyret-content">(val :: Any)</span> -&gt; Boolean</span></pre></div><p>Returns <tt class="pyretexpr">true</tt> if the provided argument is a <tt class="pyretexpr">Boolean</tt>,  <tt class="pyretexpr">false</tt> if not.</p><div><p><b>Examples:</b></p><pre>check:
  is-boolean(true) is true
  is-boolean(false) is true
  is-boolean(0) is false
end</pre></div><div><pre class="pyret-display">is-number :: <span><span class="pyret-content">(val :: Any)</span> -&gt; Boolean</span></pre></div><p>Returns <tt class="pyretexpr">true</tt> if the provided argument is a <tt class="pyretexpr">Number</tt>,  <tt class="pyretexpr">false</tt> if not.</p><p>  Numbers are </p><ul><li>Integers, e.g. <tt class="pyretexpr">345</tt> or <tt class="pyretexpr">-321</tt></li><li>Rationals, e.g. <tt class="pyretexpr">355/113</tt> or <tt class="pyretexpr">-321/6789</tt></li><li>Inexact numbers, e.g. <tt class="pyretexpr">123.4567</tt> or <tt class="pyretexpr">-0.987</tt></li><li>Complex numbers, e.g. <tt class="pyretexpr">1+2i</tt>, where the real and imaginary components may be integers, rationals or inexact numbers</li></ul><div><p><b>Examples:</b></p><pre>check:
  is-number(-42) is true
  is-number(~6.022e+23) is true
  is-number(num-sqrt(2)) is true
  is-number("4") is false
end</pre></div><div><pre class="pyret-display">is-string :: <span><span class="pyret-content">(val :: Any)</span> -&gt; Boolean</span></pre></div><p>Returns <tt class="pyretexpr">true</tt> if the provided argument is a <tt class="pyretexpr">String</tt>,  <tt class="pyretexpr">false</tt> if not.</p><p>  </p><p> Strings can be written <tt class="pyretexpr"><literal>"</literal>text<literal>"</literal></tt> or <tt class="pyretexpr"><literal>'</literal>text<literal>'</literal></tt>, and may not span multiple lines.  Allowed escapes are <tt class="pyretexpr">\n</tt> (newline), <tt class="pyretexpr">\r</tt> (carriage return), <tt class="pyretexpr">\t</tt> (tab), <tt class="pyretexpr">\[0-8]{1,3}</tt> for octal escapes, <tt class="pyretexpr">\x[0-9a-fA-F]{1,2}</tt> for single-byte hexadecimal escapes, or <tt class="pyretexpr">\u[0-9a-fA-F]{1,4}</tt> for double-byte Unicode escapes.  Additionally, <tt class="pyretexpr"><literal>\”</literal></tt> escapes a double-quote within a double-quoted string, and <tt class="pyretexpr"><literal>\’</literal></tt> escapes a single quote within a single-quoted string.</p><p>  </p><p>Multi-line string literals may be written <tt class="pyretexpr"><literal>```</literal> text <literal>```</literal></tt>.  The same escape sequences are valid as for single-line strings.  Leading and trailing whitespace of the string are trimmed.</p><div><p><b>Examples:</b></p><pre>check:
  is-string("Hello, world!") is true
  is-string(```Multi
            line
            string```) is true
end</pre></div><div><pre class="pyret-display">is-raw-array :: <span><span class="pyret-content">(val :: Any)</span> -&gt; Boolean</span></pre></div><p>Returns <tt class="pyretexpr">true</tt> if the provided argument is a <tt class="pyretexpr">RawArray</tt>,  <tt class="pyretexpr">false</tt> if not.</p><div><p><b>Examples:</b></p><pre>check:
  is-raw-array([raw-array: 3, "Jones", false]) is true
end</pre></div><div><pre class="pyret-display">is-nothing :: <span><span class="pyret-content">(val :: Any)</span> -&gt; Boolean</span></pre></div><p>Returns <tt class="pyretexpr">true</tt> if the provided argument is a <tt class="pyretexpr">Nothing</tt>,  <tt class="pyretexpr">false</tt> if not.</p><div><p><b>Examples:</b></p><pre>check:
  is-nothing(nothing) is true
  is-nothing(0) is false
  is-nothing(empty) is false
  is-nothing("") is false
end</pre></div><div><pre class="pyret-display">is-function :: <span><span class="pyret-content">(val :: Any)</span> -&gt; Function</span></pre></div><p>Returns <tt class="pyretexpr">true</tt> if the provided argument is a <tt class="pyretexpr">Function</tt>,  <tt class="pyretexpr">false</tt> if not.</p><div><p><b>Examples:</b></p><pre>fun inc(x): x + 1 end
check:
  is-function(inc) is true
  is-function((lam(i): i + 1 end)) is true
  is-function({(y :: Number) -&gt; Number: y + 1}) is true
  is-function(method(self): self + 1 end) is false
end</pre></div><div><pre class="pyret-display">is-object :: <span><span class="pyret-content">(val :: Any)</span> -&gt; Boolean</span></pre></div><p>Returns <tt class="pyretexpr">true</tt> if the provided argument is a <tt class="pyretexpr">Object</tt>,  <tt class="pyretexpr">false</tt> if not.</p><div><p><b>Examples:</b></p><pre>data Point: pt(x, y) end
check:
  is-object(pt(3, 4)) is true
  is-object({x : 12, y : 7}) is true
  is-object({(y :: Number) -&gt; Number: y + 1}) is false
end</pre></div></div></root>
    <hr/>
    The current page is trove/globals.html.
    The previous page is <a href = "../libraries-general.html">../libraries-general.html</a>.
    The next page is <a href = "../builtin/numbers.html">../builtin/numbers.html</a>.
    </div>
  </body>
</html>