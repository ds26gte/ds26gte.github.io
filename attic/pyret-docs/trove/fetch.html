<!doctype html>
<html lang="en">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
  <script type="module" src="../embed-api.js"></script>
  <link rel="stylesheet" href="../styles.css">
  <head>
    <title>Untitled</title>
  </head>
  <body>
    <div class="container">
    <root><div><h1 id="fetch" toclevel="1" tocentry="yes"></h1><div><pre class="pyret-display">fetch :: <span>(<span>url :: </span>)</span></pre><p>  Fetches the content at the given <tt class="pyretexpr">url</tt> with HTTP GET, expecting that   the result is <tt class="pyretexpr">text/plain</tt>.</p><p>  If no errors occur, returns <tt class="pyretexpr">lefteither</tt> with the returned   string body. The user is expected to decompose this string   using <tt class="pyretexpr">stringString</tt> or other functions.</p><p>  If any errors occur, returns <tt class="pyretexpr">righteither</tt> with that error as a string.</p><div><p><b>Examples:</b></p><pre>import fetch as F
import either as Ei


check:
  animals = F.fetch("https://raw.githubusercontent.com/brownplt/pyret-lang/refs/heads/horizon/tests/io-tests/tests/animals-ds-2024.csv")
  animals satisfies Ei.is-left
  string-contains(animals.v, "Name,Species,Sex,Age") is true

  bad-fetch = F.fetch("https://raw.githubusercontent.com/NO-SUCH-URL")
  bad-fetch satisfies Ei.is-right
  to-repr(bad-fetch) satisfies string-contains(_, "400")
end</pre><p><a class="show-embed" code="import fetch as F 
 import either as Ei 


 check: 
    animals = F.fetch(&quot;https://raw.githubusercontent.com/brownplt/pyret-lang/refs/heads/horizon/tests/io-tests/tests/animals-ds-2024.csv&quot;) 
    animals satisfies Ei.is-left 
    string-contains(animals.v, &quot;Name,Species,Sex,Age&quot;) is true 

    bad-fetch = F.fetch(&quot;https://raw.githubusercontent.com/NO-SUCH-URL&quot;) 
    bad-fetch satisfies Ei.is-right 
    to-repr(bad-fetch) satisfies string-contains(_, &quot;400&quot;) 
 end">(Try it!)</a></p></div></div></div></root>
    <hr/>
    The current page is trove/fetch.html.
    The previous page is <a href = "../trove/timing.html">../trove/timing.html</a>.
    The next page is <a href = "../trove/filesystem.html">../trove/filesystem.html</a>.
    </div>
  </body>
</html>