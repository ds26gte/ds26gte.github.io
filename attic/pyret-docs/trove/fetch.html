<!doctype html>
<html lang="en">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
  <script type="module" src="../embed-api.js"></script>
  <script src="../codemirror.js"></script>
  <script src="../runmode.js"></script>
  <script src="../pyret.js"></script>
  <script src="../hilite.js"></script>
  <link rel="stylesheet" type="text/css" href="../codemirror.css" title="default"/>
  <link rel="stylesheet" type="text/css" href="../pyret.css" title="default"/>
  <link rel="stylesheet" type="text/css" href="../styles.css" title="default"/>
  <head>
    <title>fetch</title>
  </head>
  <body>
    <div class="container">
    <root><div><h1 id="fetch" toclevel="1" tocentry="yes">fetch</h1><div><p>Usage:</p><pre class="pyret-highlight">include fetch</pre><pre class="pyret-highlight">import fetch as ...</pre></div><div><p><span><a name="fetch"></a></span></p><pre class="pyret-display"><a href="../trove/fetch.html#fetch">fetch</a> :: <span><span class="pyret-content">(url :: <a href="../trove/globals.html#String">String</a>)</span> -&gt; <span><a href="../trove/either.html#Either">Either</a>&lt;<span><a href="../trove/globals.html#String">String</a>, <a href="../trove/globals.html#String">String</a></span>&gt;</span></span></pre><p>  Fetches the content at the given <span class="pyret-highlight"><tt class="pyretexpr">url</tt></span> with HTTP GET, expecting that   the result is <span class="pyret-highlight"><tt class="pyretexpr">text/plain</tt></span>.</p><p>  If no errors occur, returns <a href="../trove/either.html#left"><span class="pyret-highlight"><tt class="pyretexpr">left</tt></span></a> with the returned   string body. The user is expected to decompose this string   using <a href="../missing_gloss"><span class="pyret-highlight"><tt class="pyretexpr">string</tt></span></a> or other functions.</p><p>  If any errors occur, returns <a href="../trove/either.html#right"><span class="pyret-highlight"><tt class="pyretexpr">right</tt></span></a> with that error as a string.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">import fetch as F
import either as Ei


check:
  animals = F.fetch("https://raw.githubusercontent.com/brownplt/pyret-lang/refs/heads/horizon/tests/io-tests/tests/animals-ds-2024.csv")
  animals satisfies Ei.is-left
  string-contains(animals.v, "Name,Species,Sex,Age") is true

  bad-fetch = F.fetch("https://raw.githubusercontent.com/NO-SUCH-URL")
  bad-fetch satisfies Ei.is-right
  to-repr(bad-fetch) satisfies string-contains(_, "400")
end</pre><p><a class="show-embed" code="import fetch as F 
 import either as Ei 


 check: 
    animals = F.fetch(&quot;https://raw.githubusercontent.com/brownplt/pyret-lang/refs/heads/horizon/tests/io-tests/tests/animals-ds-2024.csv&quot;) 
    animals satisfies Ei.is-left 
    string-contains(animals.v, &quot;Name,Species,Sex,Age&quot;) is true 

    bad-fetch = F.fetch(&quot;https://raw.githubusercontent.com/NO-SUCH-URL&quot;) 
    bad-fetch satisfies Ei.is-right 
    to-repr(bad-fetch) satisfies string-contains(_, &quot;400&quot;) 
 end">(Try it!)</a></p></div></div></div></root>
    <hr/>
    The current page is trove/fetch.html.
    The previous page is <a href = "../trove/timing.html">../trove/timing.html</a>.
    The next page is <a href = "../trove/filesystem.html">../trove/filesystem.html</a>.
    </div>
  </body>
</html>