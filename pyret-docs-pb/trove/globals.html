<!doctype html>
<html lang="en">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
  <script type="module" src="../embed-api.js"></script>
  <script src="../codemirror.js"></script>
  <script src="../runmode.js"></script>
  <script src="../pyret.js"></script>
  <script src="../hilite.js"></script>
  <link rel="stylesheet" type="text/css" href="../codemirror.css" title="default"/>
  <link rel="stylesheet" type="text/css" href="../pyret.css" title="default"/>
  <link rel="stylesheet" type="text/css" href="../styles.css" title="default"/>
  <head>
    <title>Global Utilities</title>
  </head>
  <body>
    <div class="container">
    <root><div><h1 id="&lt;global&gt;" toclevel="1" tocentry="yes">Global Utilities</h1><p><span></span></p><h2 id="global-builtins" toclevel="2" tocentry="yes">Built-in Utility Functions</h2><div><p><span><a name="print"></a></span></p><pre class="pyret-display"><a href="../trove/globals.html#print">print</a> :: <span><span class="pyret-content">(val :: a)</span> -&gt; a</span></pre></div><p>Displays the provided value after first calling <a href="../trove/globals.html#to-repr"><tt class="pyret-highlight">to-repr</tt></a> on it, then returns the value.</p><div><p><span><a name="torepr"></a></span></p><pre class="pyret-display"><a href="../trove/globals.html#torepr">torepr</a> :: <span><span class="pyret-content">(val :: <a href="../trove/globals.html#Any">Any</a>)</span> -&gt; <a href="../trove/globals.html#String">String</a></span></pre></div><div><p><span><a name="to-repr"></a></span></p><pre class="pyret-display"><a href="../trove/globals.html#to-repr">to-repr</a> :: <span><span class="pyret-content">(val :: <a href="../trove/globals.html#Any">Any</a>)</span> -&gt; <a href="../trove/globals.html#String">String</a></span></pre></div><p>Creates a string representation of the value that resembles an expression that could be used to construct it.</p><p>The <tt class="pyret-highlight">to-repr</tt> of a string yields a string containing the Pyret syntax needed to write the original value as string literal: most characters are unchanged, but quotes, newlines, tabs, and backslashes are all escaped, and the whole value surrounded by quotes.</p><p>Functions are simply represented as <tt>“&lt;function&gt;”</tt>.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  to-repr([list: 3, 5, 9]) is "[list: 3, 5, 9]"
  torepr("Hello, world.") is "\"Hello, world.\""
  to-repr("Hi.") == "Hi." is false
  to-repr((lam(i): i + 1 end)) is "&lt;function&gt;"
end</pre><p><a class="show-embed" code="check: 
    to-repr([list: 3, 5, 9]) is &quot;[list: 3, 5, 9]&quot; 
    torepr(&quot;Hello, world.&quot;) is &quot;\&quot;Hello, world.\&quot;&quot; 
    to-repr(&quot;Hi.&quot;) == &quot;Hi.&quot; is false 
    to-repr((lam(i): i + 1 end)) is &quot;&lt;function&gt;&quot; 
 end">(Try it!)</a></p></div><div><p><span><a name="tostring"></a></span></p><pre class="pyret-display"><a href="../trove/globals.html#tostring">tostring</a> :: <span><span class="pyret-content">(val :: <a href="../trove/globals.html#Any">Any</a>)</span> -&gt; <a href="../trove/globals.html#String">String</a></span></pre></div><div><p><span><a name="to-string"></a></span></p><pre class="pyret-display"><a href="../trove/globals.html#to-string">to-string</a> :: <span><span class="pyret-content">(val :: <a href="../trove/globals.html#Any">Any</a>)</span> -&gt; <a href="../trove/globals.html#String">String</a></span></pre></div><p>Creates a string representation of the value for display that is value-dependent in some cases, such as error messages.  For built-in types the output is identical to <a href="../trove/globals.html#torepr"><tt class="pyret-highlight">torepr</tt></a>, except for <tt class="pyret-highlight">String</tt>s.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  # tostring does not wrap strings in quotes
  tostring("Hello, world.") is "Hello, world."
  to-string("Hi.") == "Hi." is true
end</pre><p><a class="show-embed" code="check: 
    # tostring does not wrap strings in quotes 
    tostring(&quot;Hello, world.&quot;) is &quot;Hello, world.&quot; 
    to-string(&quot;Hi.&quot;) == &quot;Hi.&quot; is true 
 end">(Try it!)</a></p></div><div><p><span><a name="raise"></a></span></p><pre class="pyret-display"><a href="../trove/globals.html#raise">raise</a> :: <span><span class="pyret-content">(val :: <a href="../trove/globals.html#Any">Any</a>)</span> -&gt; <a href="../trove/globals.html#Nothing">Nothing</a></span></pre></div><p>Raises the value as an error.  This usually stops the program and reports the raised value, but errors can be caught and checked in tests by <a href="../lang/testing.html#raises"><tt class="pyret-highlight">raises</tt></a> and by <a href="../lang/testing.html#testing-blocks"><tt class="pyret-highlight">check:</tt>   blocks</a>.</p><p><img src="raise.png"/></p><h2 id="Built-in-Types" toclevel="2" tocentry="yes">Built-in Types</h2><div><p><span><a name="Any"></a></span></p><pre class="pyret-display">Any</pre><p>A type specification that permits all values.  This is mainly useful in built-in language forms, like in <a href="../lang/equality.html#equality">equality</a> or <a href="../trove/globals.html#torepr"><tt class="pyret-highlight">torepr</tt></a>, which truly do handle any value.</p><p>Pyret programs that use <tt class="pyret-highlight">Any</tt> on their own can usually be restructured to use a specific type declaration to be more clear about what data they are working with.</p><p>Specifying <tt class="pyret-highlight">Any</tt> will prevent Pyret from attempting to infer types, as it will if no type specification is provided.</p></div><div><p><span><a name="Boolean"></a></span></p><pre class="pyret-display">Boolean</pre><p>The type of <a href="../builtin/booleans.html#booleans"></a>.</p></div><div><p><span><a name="Number"></a></span></p><pre class="pyret-display">Number</pre><p>The type of <a href="../builtin/numbers.html#numbers"></a>.</p></div><div><p><span><a name="String"></a></span></p><pre class="pyret-display">String</pre><p>The type of <a href="../builtin/strings.html#strings"></a>.</p></div><div><p><span><a name="RawArray"></a></span></p><pre class="pyret-display">RawArray</pre><p>The type of <a href="../builtin/raw-arrays.html#raw-arrays"></a>.</p></div><div><p><span><a name="Nothing"></a></span></p><pre class="pyret-display">Nothing</pre><p>The type of the special value <tt class="pyret-highlight">nothing</tt>, used in contexts where the program evaluates but has no meaningful answer by design (see, for example <a href="../trove/lists.html#each"><tt class="pyret-highlight">each</tt></a>).  Note that <tt class="pyret-highlight">nothing</tt> is still a value.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  [list: nothing, nothing, nothing].length() is 3
end</pre><p><a class="show-embed" code="check: 
    [list: nothing, nothing, nothing].length() is 3 
 end">(Try it!)</a></p></div></div><div><p><span><a name="Function"></a></span></p><pre class="pyret-display">Function</pre><p>The type of all <a href="../UnDeFiNeD">function values</a>.</p></div><div><p><span><a name="Method"></a></span></p><pre class="pyret-display">Method</pre><p>The type of all method values.</p></div><div><p><span><a name="Object"></a></span></p><pre class="pyret-display">Object</pre><p>The type of all values constructed from <tt class="pyret-highlight">data</tt> <a href="../lang/forms.html#s:data-decl">constructors and
singletons</a>, and by <a href="../lang/forms.html#s:obj-expr">object literals</a>.</p></div><div><p><span><a name="Table"></a></span></p><pre class="pyret-display">Table</pre><p>The type of <a href="../builtin/tables.html#tables"></a>.</p></div><h2 id="Type-Predicates" toclevel="2" tocentry="yes">Type Predicates</h2><p>A number of functions are available to tell which kind of builtin value a particular value is.</p><div><p><span><a name="is-boolean"></a></span></p><pre class="pyret-display"><a href="../trove/globals.html#is-boolean">is-boolean</a> :: <span><span class="pyret-content">(val :: <a href="../trove/globals.html#Any">Any</a>)</span> -&gt; <a href="../trove/globals.html#Boolean">Boolean</a></span></pre></div><p>Returns <tt class="pyret-highlight">true</tt> if the provided argument is a <tt class="pyret-highlight">Boolean</tt>,  <tt class="pyret-highlight">false</tt> if not.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  is-boolean(true) is true
  is-boolean(false) is true
  is-boolean(0) is false
end</pre><p><a class="show-embed" code="check: 
    is-boolean(true) is true 
    is-boolean(false) is true 
    is-boolean(0) is false 
 end">(Try it!)</a></p></div><div><p><span><a name="is-number"></a></span></p><pre class="pyret-display"><a href="../trove/globals.html#is-number">is-number</a> :: <span><span class="pyret-content">(val :: <a href="../trove/globals.html#Any">Any</a>)</span> -&gt; <a href="../trove/globals.html#Boolean">Boolean</a></span></pre></div><p>Returns <tt class="pyret-highlight">true</tt> if the provided argument is a <tt class="pyret-highlight">Number</tt>,  <tt class="pyret-highlight">false</tt> if not.</p><p>  Numbers are </p><ul><li>Integers, e.g. <tt>345</tt> or <tt>-321</tt></li><li>Rationals, e.g. <tt>355/113</tt> or <tt>-321/6789</tt></li><li>Inexact numbers, e.g. <tt>123.4567</tt> or <tt>-0.987</tt></li><li>Complex numbers, e.g. <tt>1+2i</tt>, where the real and imaginary components may be integers, rationals or inexact numbers</li></ul><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  is-number(-42) is true
  is-number(~6.022e+23) is true
  is-number(num-sqrt(2)) is true
  is-number("4") is false
end</pre><p><a class="show-embed" code="check: 
    is-number(-42) is true 
    is-number(~6.022e+23) is true 
    is-number(num-sqrt(2)) is true 
    is-number(&quot;4&quot;) is false 
 end">(Try it!)</a></p></div><div><p><span><a name="is-string"></a></span></p><pre class="pyret-display"><a href="../trove/globals.html#is-string">is-string</a> :: <span><span class="pyret-content">(val :: <a href="../trove/globals.html#Any">Any</a>)</span> -&gt; <a href="../trove/globals.html#Boolean">Boolean</a></span></pre></div><p>Returns <tt class="pyret-highlight">true</tt> if the provided argument is a <tt class="pyret-highlight">String</tt>,  <tt class="pyret-highlight">false</tt> if not.</p><p>  </p><p> Strings can be written <tt><literal>"</literal>text<literal>"</literal></tt> or <tt><literal>'</literal>text<literal>'</literal></tt>, and may not span multiple lines.  Allowed escapes are <tt>\n</tt> (newline), <tt>\r</tt> (carriage return), <tt>\t</tt> (tab), <tt>\[0-8]{1,3}</tt> for octal escapes, <tt>\x[0-9a-fA-F]{1,2}</tt> for single-byte hexadecimal escapes, or <tt>\u[0-9a-fA-F]{1,4}</tt> for double-byte Unicode escapes.  Additionally, <tt><literal>\”</literal></tt> escapes a double-quote within a double-quoted string, and <tt><literal>\’</literal></tt> escapes a single quote within a single-quoted string.</p><p>  </p><p>Multi-line string literals may be written <tt><literal>```</literal> text <literal>```</literal></tt>.  The same escape sequences are valid as for single-line strings.  Leading and trailing whitespace of the string are trimmed.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  is-string("Hello, world!") is true
  is-string(```Multi
            line
            string```) is true
end</pre><p><a class="show-embed" code="check: 
    is-string(&quot;Hello, world!&quot;) is true 
    is-string(```Multi 
              line 
              string```) is true 
 end">(Try it!)</a></p></div><div><p><span><a name="is-raw-array"></a></span></p><pre class="pyret-display"><a href="../trove/globals.html#is-raw-array">is-raw-array</a> :: <span><span class="pyret-content">(val :: <a href="../trove/globals.html#Any">Any</a>)</span> -&gt; <a href="../trove/globals.html#Boolean">Boolean</a></span></pre></div><p>Returns <tt class="pyret-highlight">true</tt> if the provided argument is a <tt class="pyret-highlight">RawArray</tt>,  <tt class="pyret-highlight">false</tt> if not.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  is-raw-array([raw-array: 3, "Jones", false]) is true
end</pre><p><a class="show-embed" code="check: 
    is-raw-array([raw-array: 3, &quot;Jones&quot;, false]) is true 
 end">(Try it!)</a></p></div><div><p><span><a name="is-nothing"></a></span></p><pre class="pyret-display"><a href="../trove/globals.html#is-nothing">is-nothing</a> :: <span><span class="pyret-content">(val :: <a href="../trove/globals.html#Any">Any</a>)</span> -&gt; <a href="../trove/globals.html#Boolean">Boolean</a></span></pre></div><p>Returns <tt class="pyret-highlight">true</tt> if the provided argument is a <tt class="pyret-highlight">Nothing</tt>,  <tt class="pyret-highlight">false</tt> if not.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">check:
  is-nothing(nothing) is true
  is-nothing(0) is false
  is-nothing(empty) is false
  is-nothing("") is false
end</pre><p><a class="show-embed" code="check: 
    is-nothing(nothing) is true 
    is-nothing(0) is false 
    is-nothing(empty) is false 
    is-nothing(&quot;&quot;) is false 
 end">(Try it!)</a></p></div><div><p><span><a name="is-function"></a></span></p><pre class="pyret-display"><a href="../trove/globals.html#is-function">is-function</a> :: <span><span class="pyret-content">(val :: <a href="../trove/globals.html#Any">Any</a>)</span> -&gt; <a href="../trove/globals.html#Boolean">Boolean</a></span></pre></div><p>Returns <tt class="pyret-highlight">true</tt> if the provided argument is a <tt class="pyret-highlight">Function</tt>,  <tt class="pyret-highlight">false</tt> if not.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">fun inc(x): x + 1 end
check:
  is-function(inc) is true
  is-function((lam(i): i + 1 end)) is true
  is-function({(y :: Number) -&gt; Number: y + 1}) is true
  is-function(method(self): self + 1 end) is false
end</pre><p><a class="show-embed" code="fun inc(x): x + 1 end 
 check: 
    is-function(inc) is true 
    is-function((lam(i): i + 1 end)) is true 
    is-function({(y :: Number) -&gt; Number: y + 1}) is true 
    is-function(method(self): self + 1 end) is false 
 end">(Try it!)</a></p></div><div><p><span><a name="is-object"></a></span></p><pre class="pyret-display"><a href="../trove/globals.html#is-object">is-object</a> :: <span><span class="pyret-content">(val :: <a href="../trove/globals.html#Any">Any</a>)</span> -&gt; <a href="../trove/globals.html#Boolean">Boolean</a></span></pre></div><p>Returns <tt class="pyret-highlight">true</tt> if the provided argument is a <tt class="pyret-highlight">Object</tt>,  <tt class="pyret-highlight">false</tt> if not.</p><div><p><b>Examples:</b></p><pre class="pyret-highlight">data Point: pt(x, y) end
check:
  is-object(pt(3, 4)) is true
  is-object({x : 12, y : 7}) is true
  is-object({(y :: Number) -&gt; Number: y + 1}) is false
end</pre><p><a class="show-embed" code="data Point: pt(x, y) end 
 check: 
    is-object(pt(3, 4)) is true 
    is-object({x : 12, y : 7}) is true 
    is-object({(y :: Number) -&gt; Number: y + 1}) is false 
 end">(Try it!)</a></p></div></div></root>
    <hr/>
    <!-- The current page is trove/globals.html. -->
    <a class="floatleft" href="../libraries-general.html">⏴⏴⏴</a>
    <a class="floatright" href="../builtin/numbers.html">⏵⏵⏵</a>
    </div>
  </body>
</html>